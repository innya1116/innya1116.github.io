/*
#2021.06.17
[OP002-15046] [myT] [PUB] (O-2106-032-01) [웹접근성] 2021년도 온라인T 웹접근성 인증 마크 갱신을 위한 샘플링 중 myT 검수 결과 반영

#2021.05.31
[OP002-14702] [UX/PUB] [myT] (O-2105-016-01) T월드(웹/앱) 유선 해지 신청 프로세스 변경 

#2020.07.27
멤버쉽관련 웹접근성 수정

#2020.07.13
[OP002-9544] 관련 수정

#2020.07.02
2020년 웹접근성 인증마크 갱신 수정

#2020.04.08 접근성 수정

#2019.10.29
191029 [OP002-4801] 웹접근성 수정

#2019.10.11
191011 [OP002-4495] 웹접근성 수정

#2019.09.18
190918 2019 웹접근성 심사 수정

#2019.09.04
190904 웹접근성 수정

#2019.07.12
190712 2019웹접근성 수정 START

#2019.05.10
[#OP002-351] [PUB] [VOC 대응] 번호변경 시 조회번호 선택시간 단축

#2019.03.26 웹접근성 수정
WA 접근성 수정

#2019.02.28 웹접근성 수정
WA 접근성 수정

#2019.02.26
멤버쉽 HTTPS 적용 PJT(2018.11.22) 적용 추가
Xtractor 김형래 수석 수정 요청

#2019.02.15
20190213 TOS추가 - 김형래 수석 요청

#2019.02.08
GNB 수정으로 인한 플로팅 수치 조정

#2018.11.01
로밍메인 뉴스 영역 접근성 수정 - 로밍에서 전달
웹접근성 수정

#2018.10.24
[#7106][T apps] T map 택시 상품원장 - 접근성 수정

#2018.10.17
[#6927] [myT] 나의 가입정보 내 수정사항 - PC 화면 title 속성 텍스트 추가

#2018.10.01
[#6973] [고객센터] 온라인 상담/문의 다이렉트샵 문의유형 분리 - 탭 선택됨 추가

#2018.09.03
[#6998] [myT] 웹접근성 인증마크 갱신을 위한 수정 (오류수정)

#2018.06.20
[#6811] [공통] 메인슬라이드 인디케이터 오류 수정 관련 (오류수정)

#2018.06.08
[#6785] [메인] T world 메인 배너 롤링 속도 조정 요청의 건 (요건추가)

#2018.06.07
[#6783] [공통] 2018웹접근성샘플링검수결과반영_공통서비스영역 (오류수정)

#2018.04.03
[#6338] [T apps] T apps index 페이지 슬라이드 영역 오류 확인 요청 (오류수정)

#2018.02.22
console.log 객체 생성 코드 추가

#2018.01.15 화면에 보이는 포커스 가능한 요소만 검색 함수 추가
#2018.01.15 웹접근성 본문 바로가기 수정

#2018.01.12 달력 레이어 GNB 충돌 현상 제거
달력 레이어 GNB 충돌 현상 제거

#2018.01.09 IE11 키보드 사용성 수정
IE11에서 키보드로 라디오박스가 이동되지 않는 버그 수정

#2018.01.09 웹접근성관련 수정
상품서비스 > 모바일전용서비스 > T apps 페이지 에디터가 추천하는 앱 슬라이드 영역의 웹접근성관련 수정

#2017.11.30

//#myT>조회>기본정보>나의 가입정보 *자동스크롤 제거

#2017.10.10
[#5219] myT 주요 조회 메뉴 UI 개선 (요건추가)
#myt개선

#2017.09.19
[#5259] [고객센터] 나의문의내역 펼침메뉴 오류 수정 (오류수정)
[댓글등록] #5298 [공통] 마케팅영역 內 통계코드 적용건 (요건추가)

#2017.07.17
WA 접근성 수정

#2017.07.13
[#5238] 내게맞는 요금제찾기_오류 수정 (오류수정)

#2017.07.13  #WA ver2.0
[#5223] [myT] 크롬 와이파이계정 가입정보 회선펼치기 무동작 (요건추가)

#2017.06.09
//#WA 접근성 수정
[웹접근성] #이벤트 WA
[웹접근성] #myT WA
[웹접근성] #고객센터 WA
[웹접근성] #공통 WA

#2017.06.08
[#5099] [상품] 서브메인 > T라서가능한,T나는SKT라이프 6월 업데이트 (요건추가)

#2017.05.18
[#5086] [이벤트] 진행중인 이벤트 상세 플로팅 레이어 위치 조정 (오류수정)

#2017.04.17
웹접근성 수정중.  setWebAccessibilityFunc

#2017.02.13
[#4870] [공통] 채널별 자동로그아웃 분기처리 관련 (오류수정)

#2016.12.22
[#4753] [공통] common.js 수정 관련 (오류수정)

16.12.20수정
[#4750] [공통] 상품서비스 서브메인 및 T apps 인덱스 페이지 소스오류 수정 요청 건 (오류수정)

#2016.12.02 자동 로그아웃 처리 수정
동일 브라우저 세션 내 공유하는 기준시간 추가

#2016.11.24일 웹접근성수정.

16.11.24웹접근선선형화관련수정
//접근성수정하면서수정토글버튼최상단앞으로

#2016.11.24일 웹접근성수정.
//setCommon()  http://www.tworld.co.kr/normal.do?serviceId=S_PROD6040&viewId=V_CENT6040  위치이동 ready -> load 로 이동

[#4577] [메인] 공지팝업_동의의결안 레이어팝업 비게시 배포 (요건추가)
//
@Data:2016.11.09 월요일

#2016.11.09
setSlidingContent function 추가  (setCommon에서 분리 ajax 로드후 binding되지않는문제)
setBinding function 추가
#2016.11.07
[#4577] [메인] 공지팝업_동의의결안 레이어팝업 비게시 배포 (요건추가)
#2016.11.03
#동의의결 팝업 수정및 ie7_w550 클래스추가
#2016.10.26
#동의의결 관련 요금제 제한사항 고지관련팝업
-----------------------------------------------------------------------
 * 2016.03.14
 * -MY2.2.2.1T.1.html 추가 (441)
 * -radio 버튼의 경우 같은 그룹의 라디오 버튼은 name을 설정해 줘야 키보드제어가 정상적으로 작동한다.(라디오 버튼 공통사항)
 * -MY2.2.5.3T.1.html 충전선택 추가
 * -@setUlSlide 슬라이드 기능 함수 추가(MY2.2.5.3T.1.html)
 *
 * 2016.03.15
 * -@setUlSlide 함수 수정
 * -@setUlSlide each() 추가
 * -MY2.2.3.1T.1.html 충전할데이터 선택 추가(.moneySelect)
 * -.moneySelect스크립트 삭제 .dataSelect로 통합//ul.dataSelect>ul>li>a //myt 이외에 추가시 공통으로 이동
 * -@setCenter 가입자유형 선택 스크립트 추가 //CS3.1.1.1T.1T.html
 * -@setTlive 추가 //www/poc/tlive/
 * -@setTlive 진행중인 이벤트 TL1.1.1.html 스크롤 비율 이동 !!!보류!!!
 * -MY2.2.5.3T.1.html 충전할 데이터 선택 (정보를 입력해 주세요 탭에 충전금액 값변경 추가)
 *
 * 2016.03.16
 * [1]. @setCenter 원하시는 이용안내를 차지 못하셨나요? open/close //CS3.2.1T.html
 * [2]. [1]번 스크립트 삭제, 탭 열고 닫기('open' 클래스 추가/제거 버튼) 스크립트 추가 // CS3.2.1T.html
 * setRadioBox , setCheckBox 라디오 버튼과 체크 박스를 디자인이 적용 되지 안는 경우는 스크립트가 적용되지 안토록 수정
 *
 * 2016.03.17
 * @setCommon 추가
 * @setCommon 말풍선 click버전 div.qInfo_c 추가
 * calrendar 구현부분 수정
 * @setMyt dataSelect 삭제b
 * @setCommon 라디오 셀렉트 박스 추가 //ex. www/poc/myt/MY2.2.5.3T.3.html
 * @setCommon 라디오 셀렉트 박스 ul>li>ul 구조에서 적용되게 수정 //ex. www/poc/myt/MY2.2.4.2T.2T.1.html
 * @setCommon 라디오 셀렉트 박스 키보드 이동 li도 적용되게 수정 //ex. www/poc/myt/MY2.2.4.2T.2T.1.html
 *
 *
 * 2016.03.18
 * @setCommon 말풍선 click버전 수정 및 tapkey추가 및 클래스명 qInfo 변경
 * @setCommon 라디오 셀렉트 박스 liOnEvt로 수정
 * @setCommon 충전금액 스크립트 MY2.2.4.2T.2T.1.html, MY2.2.4.1T.2T.1.html 추가
 *
 * 2016.03.21
 * myt 접근성 이슈로 <span>태그에 선택이란 문구가 추가 되도록 작업  MY3.5.2.1.1.html
 * common 클래스 Info툴팁박스 관련
 * common 클래스 Info툴팁박스 qIdx 래스 추가 및 지정된 클래스간 z-index조정
 * radio 버튼 디자인 적용 초기화 수정
 *
 * 2016.03.22
 * setTapJs 수정()
 *
 * 2016.03.24
 * @setTglClsOpen close버튼 없는 경우 동작가능하도록 수정
 * @setCenter 구비서류 안내 스크립트 추가 CS3.3.1T.html
 *
 * 2016.03.25
 * @setCenter 구비서류 안내 CS3.3.1T.html 주석처리
 * @setProduct 스크롤 하단 선택 요금상품 바 product_templete.html 추가
 *
 * 2016.03.28
 * @setProduct 스크롤 하단 선택 요금상품 바 product_templete.html 수정
 * @setGuide CHECK POINT 목록 더보기 버튼 layout_common.html 추가
 * @setUlLi_TglOn 공통 스크립트 추가 //MY1.2.5.1T.html
 *
 * 2016.03.29
 * @setUlSlide nodata 및 auto slide 기능 추가
 * @setCommon arcBox 수정
 * @setTabJs tabAll 기능 추가
 * @setUlSlide 첫번째 슬라이드로 초기화 추가
 * var commonJs 추가
 * @setUlLi_TglOn <span class="hidden">선택</span>삽입 스크립트 추가
 * @setTlive !!보류해제!! 오른쪽 이벤트바 스크롤 이벤트 추가
 *
 * 2016.03.30
 * @setCenter 구비서류 안내 li높이 정렬 스크립트 추가.
 * @setCommon arcBox2 li>a 이벤트 오브젝트 변경 /myt/MY1.5.1.1T.html
 * @setMyt  missStopList>li 버튼 개수 확인 //MY4.1.2.1.html
 * @setProduct startTop보다 scrollTop값이 작을경우  pr_floatingDiv display:none처리 스크립트 수정 product_templete.html
 *
 * 2016.04.01
 * @setProduct dummy.hide() 추가
 * @setTglClsOpen chkTitle 추가 //MY2.1.3.1.3.1.html
 *
 * 2016.04.04
 * @setCenter 대리점 연관키워드 가운데 정렬 스크립트 추가//www/poc/center/대리점.html
 * @setGuide checkPoint each로 수정
 * @setTglClsOpen a.tglBtn 추가 // MY1.1.1.2.html
 * @setMyt myt_product1 사용중인 상품 이벤트 추가 // MY1.1.1.1.html, MY1.1.1.2.html
 * @setMyt myt_product1 사용중인 상품 이벤트 //하단에서 닫기 버튼 클릭시 스크롤링 추가 // MY1.1.1.1.html, MY1.1.1.2.html
 * @setPopup a.id_layerOpen 레이어팝업 열기 버튼이 불리된 경우 id값으로 여는 기능 추가 // MY1.1.1.2.html
 * @setPopup a.id_layerOpen 레이어팝업 열기 버튼이 불리된 경우 레이어팝업을 닫을경우 열기버튼으로 포커스 기능 추가 //MY1.1.1.2.html
 *
 * 2016.04.05
 * @setPopup 가운데정렬 수정
 * @setMyt myt_product1 li클릭으로 열 경우 스크롤링 추가 // MY1.1.1.1.html, MY1.1.1.2.html
 * @center  CS3.1.6.1T.html , CS3.1.6.2T.html 핸드폰 형태의 메뉴 클릭시 좌측 컨텐츠 변경기능 추가
 * @setTglClsOpen chkClose 추가
 * @setPopup popShow() focus기능 추가
 *
 * 2016.04.06
 * @setMyt 선물할 데이터량 선택 그래프 1GB일때 wPoint 100%로 수정//MY2.2.2.1T.1.html
 * @setMyt 열기 닫기 residualCall 추가 //MY1.2.2.1.html#
 * @setMyt 레이어 팝업 닫기 포커스 스크립트 수정
 * @setMyt 열기 닫기 residualCall 수정 //MY1.2.2.1.html#
 *
 * 2016.04.07
 * @setPopup 레이어 팝업 스크립트 수정
 * @setPopup $(window).load 로 이동
 * @setMyt MY1.1.5.html 사이즈 변경되는 메뉴 추가
 * @setPopup div[tabindex=0] focus 추가 //MY1.1.1.2.html
 * tab focus 관현 함수 추가 및 변경
 * @setCenter FAQ 자주찾는질문 카테고리 설정 수정 //CS2.1.1T.html
 * @setCenter FAQ 자주찾는질문 카테고리 설정 검색버튼 스크립트 추가 //CS2.1.1T.html
 * @setMyt col4를 ul로 변경//MY3.5.2.1.1.html
 *
 * 2016.04.11
 * @setCenter FAQ 카테고리 이동시 포커스 이동 및 hover숫자 이미지 on/off 기능 추가//CS2.1.1T.html
 * @setPurchase 추가 //www/poc/purchase/
 * @setPurchase 유형선택 사용중인/변경 요극상품 화면 높이 조절 스크립트 추가//PJ1.1.1.html
 *	commonJs 셀렉트 박스 관련 함수 추가 ( 현재 문서 로드 순서가 셀렉트박스가 나중에 로드되기 때문에 셀렉트 박스의
 * 	생성이 완료된 후에 콜백을 받을수 있도록 추가 )
 *	@setutil 셀렉트 박스및 슬라이드 추가
 *
 * 2016.04.12
 * @setPurchase div 높이조절 스크립트 수정 //PJ1.5.1.html
 * new SliderObject 슬라이드 추가
 * @setUtil UT10.8L.html 회선변경 추가
 * @setProduct display:none;일때 selectBox span의 width값이 0으로 인식되어 show&hide효과를 margin-left값의 변화로(0px[show]>-10000px[hide]) 대체.//TS1.1.2.8.html#
 *
 * 2016.04.14
 * new SliderObject 포커스 관련 (tabkey 이벤트 보다 keyDown 이 우선하기 때문에 이벤트를 받아서 선 처리 하는 방식)
 *
 * 2016.04.15
 * setCheckbox 코드수정
 * @setCommon 사이드 배너 닫기 추가//www/poc/util/common/UT8.3.1L.html#
 * commonJs.checkLogin 추가
 * commonJs.setSlider 추가
 * @setCommon on클래스 토글 기능 추가//www/poc/purchase/PJ2.2.1.2P.html#
 * @setPurchase 켜기/끄기 텍스트 토글 추가 //www/poc/purchase/PJ2.2.1.2P.html#
 *
 * 2016.04.18
 * @setmyt cubeResize 메뉴 선택시 scrollTo 함수 추가
 * @setProduct 로그인 확인 //www/poc/product/TS1.1.4.html
 * commonJs.setSlider 추가 키보드 입력 컨트롤 추가.
 * @setProduct 로그인 확인 클래스명 변경 loginAfter, beforeLogin
 * @setProduct TS1.1.1.html 추가
 *
 * 2016.04.19
 * @setProduct TS1.1.3.html 상품리스트에 mbRouter 클래스 추가
 *
 * 2016.04.20
 * @setPopup 레이어팝업 자동top설정 스크립트 pop.height()->target.height() 변경
 * @setPopup commonJs.setPopCloseAndTabFocus 추가
 * @setCalendar -> @commonJs.setCalendar 변경
 * @setProduct <span class="hidden">선택된 요금상품</span> 문구 추가
 *
 * 2016.04.21
 * @setUpDownSlide 상하 이동 슬라이드 추가 //www/poc/product/TS5.1.html
 * @setUlSlide 자동슬라이드 Play/Stop 버튼 수정
 *
 * 2016.04.22
 * @setmyt 열기/닫기 memeberSbox //membership_search.html
 *
 * 2016.04.25
 * @setProduct 슬라이드네비 prev/next버튼 이동 효과 추가 //www/poc/product/TS5.2.html
 * @setUlslide 자동슬라이드 탭이동 스크립트
 * @setProduct 앱 텝이동 스크립트 /www/poc/product/TS5.2.html
 * @setUlslide 탭이동시 a태그만 슬라이드 이동하게 변경
 *
 * 2016.04.26
 * @setMyt 아코디언 열기/닫기 //MY1.2.3.1T.1.html
 * @setProduct 스크롤 하단 선택 요금상품 바 수정(prContTop 추가)//TS5.2.7.1.html
 * @setMyt dl.module 열기/닫기 추가 //MY1.2.4.1T.1.html
 *
 * 2016.04.27
 * @setMyt dl.module 열기/닫기 btnClose > btn_close_module 변경 //MY1.2.4.1T.1.html,MY1.2.3.1T.1.html
 * @setMyt MY1.2.4.5T.1.html 월,분기,반기 선택 영역 선택 추가
 *
 * 2016.04.28
 * @setMyt dl.module 전체닫기 위치 이동 수정 //MY1.2.3.1T.1.html
 *
 * 2016.04.29
 * @setCalendar 외부연결 함수 추가 selectDate,getDate,setup
 *
 * 2016.05.02
 * @setTabJs 수정 #에러 수정.
 *
 * 2016.05.10
 * @setTlive 자막 함께보기 //poc/tlive/TL2.1.1L.html
 *
 * 2016.05.18
 * @setMyt '.myt_product1'아코디언 스크립트 '.sub' 예외처리 추가
 * @setMyt '.childFee' .sub아코디언 열기닫기 스크립트 추가//MY1.2.1.1T.html#
 *
 * 2016.05.19
 * @setCommon 공유하기 버튼 추가//poc/guide/etc.html
 * @setUlSlide eventType2 슬라이드 카드선택('.selectCard')/paging 추가 poc/myt/MY1.1.1a.1.3P.html
 *
 * 2016.05.24
 * @setCenter ARS고객센터 문의량 급증 예상 캘린더 스크립트 //poc/center/CS.1T.html
 *
 * 2016.05.26
 * arcbox , arcbox2 a 태그 preventdefault 제거 크릭시 스크롤이 튀는 경우에대해서 요청이 오면 개발쪽에 처리 요청 하도록
 * @setTglClsOpen  'div.tglClsOpen>a.tglBtn'  ->  'div.tglClsOpen a.tglBtn' 변경
 *
 * 2016.05.30
 * @setUtil 디자인 변경으로 셀렉트박스 위치변경 'div.changeLine>div.con>.selectBox' -> 'div.changeLine>div.title>.selectBox' // UT10.8P.html 회선정보 변경
 * @setCenter FAQ 카테고리 선택 시 더보기 카테고리 숨기기 스크립트 추가
 *
 * 2016.06.01
 * @setTabJs tabJs하위 a태그 예외처리 //poc/center/CS.html#
 * @setTabJs li에 click이벤트 li>a로 이벤트 발생 위치 변경
 * resizeObject 추가
 * @setUlSlide fullSize 클래스 추가시 리사이징 되도록 추가
 * @setUlSlide 리사이징 애니메이션 효과 취소 스크립트 추가
 *
 * 2016.06.02
 * @setCommon 'arcBox2' bind 이벤트 live로 변경 // myt/MY4.1.3.2T.2.html /myt/MY1.5.1.1T.html
 *
 * 2016.06.02
 * @setUlSlide .slidebox 에 .slideNavi2 클래스 추가
 * @setUtil 통합검색 서브탭 및 검색어 탭 스크롤 처리//poc/util/common/UT1.3.1.html //poc/util/common/UT1.3.2.1.html
 *
 * 2016.06.07
 * @setMyt 나의혜택 페이지 상세정보탭 스크립트 수정//myt/MY1.1.5.html
 * @setUtil "통합검색 서브탭 및 검색어 탭 스크롤 처리" 탭고정 시작 시점부터 검색어탭 접기 기능 추가//poc/util/common/UT1.3.1.html //poc/util/common/UT1.3.2.1.html
 * @setMyt "나의혜택 페이지 상세정보탭" 익스플로러에서 깜빡이는 현상 수정//myt/MY1.1.5.html
 * @setUtil "통합검색 서브탭 및 검색어 탭 스크롤 처리" ie7에서 탭고정 시작 시점 에러 수정//poc/util/common/UT1.3.1.html //poc/util/common/UT1.3.2.1.html
 *
 * 2016.06.08
 * @setCalendar>selectDate "setCurrentDate"->"setDate" 변경
 * @setCalendar 초기 기본값 변경(현재일:사용자PC 기준 오늘 날짜, 시작일:현재일 30일 전,  마지막일:현재일 30일 후)
 * @setCheckBox, @setRadioBox .attr('checked')->.prop('checked')으로변경 (ie7에서 캐쉬되는 값 선택)
 * @setCommon footer familysite # 튀는 부문 수정
 * @setCalendar 전체변경 스크립트 삭제
 *
 * 2016.06.13
 * @setUtil 사이트맵 검색 기능 추가//poc/util/common/UT6.html
 * @setProduct '.userData'엘리먼트가 없는 경우 예외처리 추가//product/TS1.1.1.html
 * @setUtil 사이트맵 검색 초기화 수정//poc/util/common/UT6.html
 * @setUtil 사이트맵 검색 키보드 입력 시 검색 기능 추가//poc/util/common/UT6.html
 * @setCenter FAQ 자주찾는질문 카테고리 설정 구조변경 td->li로 변경 //CS2.1.1T.html
 * @tabJs 추가 product/TS2a.3.1T.html tabjs 추가
 *
 * 2016.06.14
 * @setPurchase 유형선택 사용중인/변경 요극상품 화면 높이 조절 스크립트 공통함수(commonJs.setHeight_changeCont())로 변경//PJ1.1.1.html //poc/product/TS1.1.2.8.html
 * @setUlSlide 클래스 추가
 *
 * 2016.06.16
 * @setMyt 납부내역 기간선택 추가//poc/myt/MY1.2.4.5T.1.html
 * @setUlSlide "IETester IE7" 높이 설정 스크립트 추가
 *
 * 2016.06.17
 * @setUlSlide eventType2 페이징 초기값 수정//poc/myt/MY1.1.1a.1.3P.html
 * @setUlSlide eventType1 conSize 슬라이드 삭제 기능 추가
 *
 * 2016.06.20
 * @setUlSlide eventType1 conSize 슬라이드 삭제 기능 및 사이즈 수정
 * @setUlSlide eventType1 dynamicHeight 슬라이드 동적 높이 스크립트 추가//poc/util/common/UT8.1.html#
 *
 * 2016.06.21
 * @setMyt 나의혜택 페이지 상세 정보탭 스크립트 live 변경 및 IE7 문제 수정//myt/MY1.1.5.html
 * @setMembership 추가
 * @setMembership 제휴사 혜택 아이콘 hover효과 추가//poc/membership/MS.html
 * @setMembership 멤버십 카드 자세히 보기 추가//poc/membership/MS.html
 * @setMembership 멤버십 카드 자세히 보기 이동 -> @setCommon
 * @setCommon 자세히보기 수정 //poc/membership/MS.html //poc/product/TS.html
 *
 * 2016.06.22
 * @setDirect 추가
 * @setCommon 자세히보기 li넓이 값 설정하는 스크립트 삭제//poc/membership/MS.html //poc/product/TS.html
 * @setCommon 자세히보기 left값 세팅 수정//poc/membership/MS.html //poc/product/TS.html
 * @setCommon 자세히보기 IE7 z-index 버그 수정//poc/membership/MS.html //poc/product/TS.html
 * @setMyt 납부내역 기간선택 구조변경으로 셀렉터 수정//poc/myt/MY1.2.4.5T.1.html
 *
 * 2016.06.24
 * @setBanner 추가
 *
 * 2016.06.27
 * @commonJs.dsPopOpen 추가 direct/DS.html 적용
 *
 * 2016.06.29
 * @setProduct 요금상품 live로 변경// product/TS1.1.1.html
 * @setBanner 이미지 태그 삽입시 높이 조절 스크립트 추가
 * @setMain 추가
 *
 * 2016.06.30
 * @setProduct 로그인 확인 스크립트 삭제//www/poc/product/TS1.1.4.html
 *
 * 2016.07.01
 * @setUtil 제휴사안내 박스 높이 조절 스크립트 추가 //poc/util/common/UT1.3.1.html#
 * @setWindowLoad ($(window).load에서 실행) 추가
 * 제휴사안내/고객센터 박스 스크립트 @setWindowLoad로 이동
 *
 * 2016.07.04
 * @getInstance 추가
 * @setSlider 외부 리셋 함수 추가(resetSlider(curVal, max, hasPoint, hasCurVal))
 * //poc/util/common/UT6.html
 * 사이트맵 ucode등록및 자바스크립트 등록 추가
 * @setUtil "사이트맵 검색" 검색값이 빈("")문자 일때 초기화기능 추가 //poc/util/common/UT6.html
 *
 *
 * 2016.07.05
 * @setPopu 팝업창 정렬 변경
 * @setUtil 통합검색 서브탭 및 검색어 탭 스크롤 처리 gnb높이값 처리 추가.
 * @setUlslide deleteLi 슬라이드 수가 1개이하일때 좌우버튼 및 불릿 안보이는 기능 추가
 *
 * 2016.07.07
 * 구비서류 안내 commonJs.setHeight_groupList로 함수화
 * @commonJs.trimLR 좌우공백제거 공통 함수 추가
 * @trimLF -> @commonJs.trimLR 변경
 * @setUtil 통합검색 검색 자동완성 탭 추가//poc/util/common/UT1.3.1.html
 *
 *
 * 2016.07.08
 * @setMembership 포커스 제어 추가및 코드변경
 *
 * 2016.07.11
 * @setCommon .qInfo 라이브 이벤트로 변경
 * @setCalendar end버튼 first버튼 실행함수 변경 (prevYear(), nextYear())
 * @setCommon qIdx z-index 초기화 추가
 *
 * 2016.07.12
 * @setUtil 통합검색 검색 자동완성 탭 선택된 텍스트 삽입 스크립트 삭제.
 *
 * 2016.07.13
 * @setUtil 통합검색 검색 자동완성 탭 검색목록(li)개수 확인 후 오픈 스크립트 추가.
 *
 * 2016.07.18
 * @commonJs.loadMainNotice 메인페이지 공지사항 스크립트 추가
 *
 * 2016.07.19
 * lib.js () new commonJs.Jessture ) 클래스 추가
 * @ setUlSlide 제스쳐 추가
 * @setMain >  alphaMn 수정
 *
 * 2016.07.20
 * @setMain >  alphaMn 수정
 * @setUtil 통합검색 검색 자동완성 탭 스크립트 삭제(개발팀 요청)
 *
 * 2016.07.25
 * @setMyt 열기/닫기 live이벤트로 변경 //MY1.1.1.1.html, MY1.1.1.2.html, MY1.2.4.1T.1.html
 * @setRadioBox 라디오 셀렉트 박스 liOnEvt 트리거 주석 제거
 *
 * 2016.07.27
 * @setMyt 열기/닫기 초기화 수정 //MY1.1.1.1.html, MY1.1.1.2.html, MY1.2.4.1T.1.html
 * 타이머 시간 설정 20분 설정 스크립트 추가(개발팀 요청 삽입 스크립트)
 * @setBanner 메인 배너 추가 수정
 *
 * 2016.07.28
 * 개발팀요청 document.domain = 'tworld.co.kr'; 추가
 * @commonJs.closeLayerPop 추가
 * @setBanner 알파내비게이션 loadMain(); 추가
 *
 * 2016.07.29
 * @commonJs.setSlider reset외부 함수 수정
 * @setBanner 슬라이드배너 ajax 동기식으로 변경 (async:false)
 * @setBanner 알파네비게이션 ajax 동기식으로 변경 (async:false)
 * @setBanner ajax 인코딩 처리 추가
 * @setBanner 슬라이드네비 정지/플레이 버튼 삽입 스크립트 추가
 * @setBanner 배너 전역변수 length 체크 추가
 *
 * 2016.08.01
 * TSguide.html 텍스트 세로 정렬
 *
 * 2016.08.02
 * @setPopup 레이어팝업 닫기 버튼 스크립트 추가 ".subClose"
 * @setMain IE check 스크립트 추가
 * TSguide.html 텍스트 세로 정렬 스크립트 삭제
 *
 * 2016.08.03
 * @setUlSlide ".promotionSlide"안에서만 제스쳐 되도록 변경
 * @setCenter 최신이용자 피해예방 정보 더보기 버튼 추가//poc/html/center/CS6.1.1T.html#
 *
 * 2016.08.04
 * @setBanner ajax euc-kr->utf-8으로 변경
 *
 * 2016.08.06
 * ".graphtype2" 라디오 버튼 그래프 스크립트 수정(VIP할인율 설정 그래프)
 * @setProduct 요금상품 최대3개까지만 선택가능하게 변경// product/TS1.1.1.html
 * @setBanner 서브메인(요금상품,T라이브,로밍) 배너 추가
 *
 * 2016.08.07
 * @setBanner 알파네비게이션 삽입 태그 아이디 수정
 * @setBanner 슬라이드 프로모션 배너 정지,시작 버튼 삽입 스크립트 수정
 * setIdAndHeadersToTables null처리
 * @setMyt 나의혜택 자세히보기 수정
 * @setBanner _banner_1002_F  동영상 팝업배너 임시막음
 *
 * 2016.08.08
 * cnt 1200 -> 1800 변경
 * @setPopup 레이어팝업 오픈시 GNB딤처리 및 바디 스크롤 방지 추가
 *
 * 2016.08.09
 * @setPopup 레이어팝업 오픈시 GNB딤처리 및 바디 스크롤 방지 수정
 *
 * 2016.08.10
 * @setProduct 요금상품 userData 스크롤/선택 이벤트 수정
 * @setBanner 프로모션배너 이미지 삽입 수정
 *
 * 2016.08.11
 * @setCalendar 달력 오늘 버튼 수정
 * @setMyt myt_product1 납부내역 openTab 이벤트 추가 및 위치 이동 수정
 *
 * 2016.08.12
 * @setMain, @setBanner 스프레드 배너 1일간 열지 않기 스크립트 추가
 *
 * 2016.08.15
 * @setPopup iframe동영상 레이어팝업 닫을 시 리로드 스크립트 추가(iframe.videoFrame)
 *
 * 2016.08.16
 * @setPopup commonJs.closeLayerPop 수정
 * ie6/7확인 스크립트 수정 및 setMain -> setWindowLoad로 이동
 * @setTabJs live 이벤트로 변경
 * @setWindowLoad 팝업 차단 설정 해제 안내 더이상 보지않기 스크립트 추가
 * @setMyt myt_product1 .sub 열기/닫기 live 이벤트로 변경
 *
 * 2016.08.17
 * setFamilySiteTglClsOn 스크립트 삭제(gnb.js 중복)
 *
 * 2016.08.18
 * @setDirect ('img[src]') null 처리 추가
 * @setGuide ( layout_product.html ) .basicProvide_tab li에 높이값 처리
 * _banner_1002_F 주석 제거 (T캠페인 배너)
 * @setMain 스프레드 배너 닫기 및 1일간 보이지 않기 수정
 *
 * 2016.08.19
 * 프로모션배너 배경속성 repeat -> repeat-x로변경
 * @setBanner background 삽입 스크립트 수정
 *
 * 2016.08.22
 * @setBanner background 삽입 스크립트 수정
 *
 * 2016.08.23
 * @setUlSlide IE8이하 버전 제스쳐 미적용
 *
 * 2016.08.24
 * @setBanner 알파 네비게이션 삽입 스크립트 변경(js변수 파싱값으로 단순 html 삽입 -> js변수 파싱값으로 기본태그 삽입 후 상세내역 html삽입으로 변경)
 * @setUlSlide Jessture 방향 수정
 *
 * 2016.08.25
 * @setGuide CHECK POINT 목록 더보기 버튼 라이브 이벤트로 변경 및 버튼 제거 기능 삭제
 *
 * 2016.08.26
 * mobile 체크 미디어쿼리 추가
 *
 * 2016.08.29
 * cmnJquery 처리 (변경 부분 "cmnJquery"로 검색)
 * @setPopup 열기/닫기 클릭 이벤트 외부 jQuery 접근 가능하게 변경
 *
 * 2016.08.30
 * @setPopup id_layerOpen 수정
 * @setMain 알파내비게이션 클릭시 활성화되는 좌우 버튼 nodata 확인 추가
 *
 * 2016.09.01
 * @setUlSlide 웹 접근성 포커스 이동 수정
 *
 * 2016.09.04
 * @setBanner promotion (ul>li) img형태 배너 값 삽입 수정
 * @setRadioBox 라디오버튼 이벤트 라이브로 변경
 * @setTlive 자막 함께보기 라이브 이벤트로 변경
 * @setPopup 레이어팝업 탭이동 및 닫기 이벤트 동적이벤트로 변경
 *
 * 2016.09.05
 * @setRadioBox 라디오박스 disabled 처리
 * window load //'after_setPopup' 트리거 실행 추가
 * @setUlSlide $('div.slideBox,div.slideBox2').each(); --> commonJs.setSlideBox 외부함수로 변경
 *
 * 2016.09.06
 * @setCheckBox "no_checkbox_evt" 체크박스 이벤트 예외 처리
 * @setMain 알파내비 제스쳐 IE8버전 이하 분기 처리
 * @setProduct 스크롤 하단 선택 요금상품 바 최종 위치수정//TS5.2.7.1.html
 * @setBanner html형식 promotion banner 삽입 수정
 *
 * 2016.09.08
 * @setBanner img 형식 promotion banner 삽입 수정
 * @setMyt 아코디언 전체닫기 버튼 수정
 *
 * 2016.09.12
 * commonJs.event.SELECTBOX_INIT 할당 null체크 추가
 * sitemap text->html 변경
 *
 * 2016.09.17
 * 본문바로가기 fixed처리 추가
 *
 * 2016.09.18
 * @setBanner 알파내비게이션 오퍼링영역을 앞으로 오게 수정
 * @setMyt 'myt_product1' 전체닫기 '.addType2.tglClsOpen' 닫기 추가
 * @setBanner 프로모션배너 수정
 *
 * 2016.09.19
 * @setMyt cubeResizeMenu 나의혜택 더보기 버튼 클릭시 사이즈 재설정 스크립트 추가
 * @setBanner 프로모션배너 수정
 *
 * 2016.09.20
 * @setBanner 프로모션배너 이미지 태그 형태 수정
 * @resizePopupWindow 팝업 윈도우창 사이즈 조절 스크립트 추가
 *
 * 2016.09.21
 * @setBanner 비디오 자막 tabindex삽입
 * @setBanner 싱글배너 이미지 삽입 수정
 * @setMain 알파내비 인덱스 a태그 셀렉터 수정
 *
 * 2016.09.22
 * 비디오 자막 tabindex삽입 @setWindowLoad로 이동
 * commonJs.setHeight_changeCont 높이값 초기화 추가
 *
 * 2016.09.24
 * @setPopup 레이어팝업 닫을 시 arcBox 초기화 기능
 * commonJs.closeLayerPop container 레이어팝업 닫힐때 z-index:;
 * commonJs.closeLayerPop fix_scrollTop 스크롤 이동 방지 기능 추가
 *
 * 2016.09.29
 * @sltByNumKey 셀렉트박스 숫자 입력 선택 기능 추가
 * @setPopup 화면에 레이어팝업이 없는 경우 실행 안하고 return시키는 분기 처리 삭제(팝업을 동적으로 불러오는 경우)
 *
 * 2016.09.30
 * @setPopup 레이어 팝업 안보이는 태그 포커스 선택 시 예외 처리(접근성)
 *
 * 2016.10.03
 * @setMain 메인 알파내비게이션 탭이동 및 포커스 이동 수정(접근성)
 * @setUlSlide 탭이동/포커스 이동 수정(접근성)
 *
 * 2016.10.04
 * commonJs.openLayerPop 팝업열기 외부함수 개발 요청 추가
 *
 * 2016.10.06
 * @setUlSlide 탭이동/포커스 이동 추가수정(접근성)
 * @setUlSlide isConSize 탭이동/포커스 이동 수정(접근성)
 *
 * 2016.10.10
 * 개발팀요청 자동로그아웃 타이머 스크립트 수정
 * @setTglClsOpen 초기 open되어있는 경우 타이틀 선택 삽입 기능 추가 (접근성)
 * @setUlSlide 탭이동/포커스 이동 추가수정(접근성)
 *
 * 2016.10.12
 * sitemap 링크x 메뉴명 설정 추가
 *
 * 2016.10.13
 * @timeCheck 시간 확인
 * @setBanner 배너 예약 시간 추가
 * sitemap .onlyLink 메뉴명 변경없이 링크만 삽입하는 기능 추가
 * incomplete 미완성 메뉴명 (*) 추가
 *
 */



/************* 개발팀 요청 스크립트 *************/

// if(document.domain && document.domain!="localhost") document.domain='tworld.co.kr';
if( window.console == undefined ){ console = { log : function(){} }; }

//쿠키 조회
function _poc_GetCookie(cookName) {
	var aCookie = document.cookie.split("; ");
	for (var i = 0; i < aCookie.length; i++) {
		var cPos = aCookie[i].indexOf("=");
		var cName = aCookie[i].substring(0, cPos);
		if (cName == cookName) {
			return unescape(aCookie[i].substring(cPos + 1));
		}
	}
	return "";
}

//자동 로그아웃 처리
var pocTimerCnt = parseInt(1800);	 //현재페이지 30분 경과 체크
var pocTimerStart= parseInt(new Date().getTime()); //현재페이지 호출 시간

function timer_start(siteCd) {

	//로그인한 경우에만 수행
	var isLogin = _poc_GetCookie("SKTSSO");
	if (isLogin == "Y") {

		if(typeof(localStorage) !='undefined' ){ //localStroge 지원 브라우저
			localStorage.setItem('pocTimerStart', pocTimerStart);		//현재페이지 호출시간으로 기준시간 갱신
		}

		setInterval("counter_run()", 1000);
	}
}

function counter_run(siteCd) {
	pocTimerCnt--;

	if (pocTimerCnt < 0)  {
		if(typeof(localStorage) !='undefined' ){ //localStroge 지원 브라우저
			pocTimerStart = parseInt(localStorage.getItem('pocTimerStart')); //브라우저의 기준시간으로 추가 비교
		}

		if (parseInt(new Date().getTime())- pocTimerStart>parseInt(1800*1000)){

			// 영문 페이지 여부 체크
			if (location.href.indexOf("/poc/eng") > 0 || location.href.indexOf("V_FORE") > 0) {
				siteCd = "ENG";
			}
			// Tmembership 페이지 여부(추가)
			if (location.hostname == 'tmembership.tworld.co.kr') {
				siteCd = "MBR";
			}
			// TDirectShop 페이지 여부(추가)
			if (location.hostname == 'shop.tworld.co.kr') {
				siteCd = "TSP";
			}

			if (siteCd == 'EVT') {
				parent.location = location.protocol + "//www.tworld.co.kr/poc/common/loginout/control/LogoutServlet.jsp ";
			} else if (siteCd == 'MBR') {
				// 2019.02.26 - 멤버쉽 HTTPS 적용 PJT(2018.11.22) 적용 추가
				//HTTPS 적용 PJT(2018.11.22)
				//parent.location = location.protocol + "//tmembership.tworld.co.kr/web/html/logout/LogoutServlet.jsp"; // Tmembership 로그아웃 페이지
				if(parent.location.protocol == 'https:') {
					parent.location = location.protocol + "//tmembership.tworld.co.kr:8000/web/html/logout/LogoutServlet.jsp"; // Tmembership 로그아웃 페이지
				}else{
					parent.location = location.protocol + "//tmembership.tworld.co.kr/web/html/logout/LogoutServlet.jsp"; // Tmembership 로그아웃 페이지
				}
			} else if (siteCd == 'TSP') {
				parent.location = location.protocol + "//shop.tworld.co.kr/handler/Member-Logout"; // TDirectShop 로그아웃 페이지
			} else if (siteCd == "ENG") {
				self.location = location.protocol + "//www.tworld.co.kr/poc/common/loginout/control/LogoutServlet.jsp?returnURL=http://www.tworld.co.kr/poc/eng/logout.jsp ";
			} else {
				self.location = location.protocol + "//www.tworld.co.kr/poc/common/loginout/control/LogoutServlet.jsp ";
			};
		}
	}
}

timer_start();

/***************************************************/

(function ($, window)
{
	'use strict';

	if( !window.commonJs )
	{
		window.commonJs = {};
	}
	var commonJs = window.commonJs; // 외부 함수

	commonJs.HEIGHT = 0;	// 창 높이
	commonJs.WIDTH = 0;		// 창 넓이

	var resizeObject = {}; // resize 이벤트 오브젝트 (화면 사이즈 확인 후)

	//화면 resize 이벤트
	$( window ).resize(function()
	{
		commonJs.WIDTH = $(window).width();
		commonJs.HEIGHT = $(window).height();
		$(resizeObject).trigger('resize');
	});

	var doc = $(window.document); // document
	var content = null;

	// const variable
	var TABKEY_CODE = 9;		// tab key 키코드

	// 셀렉트 박스 관련 추가
	var selectBox = $({});
	commonJs.selectBox = selectBox;

	// 셀렉트 박스 초기화 이벤트명
	if(!commonJs.event){
		commonJs.event = {
			SELECTBOX_INIT : 'selectBoxInit'
		};
	}

	//get instance
	if (window.$.fn.getInstance === undefined) window.$.fn.getInstance = function () { //cmnJquery
		var cmn_scope=$(this).data('cmn_scope');

		if(cmn_scope) {
			return cmn_scope;
		}
		else {
			return this.data('scope');
		}
	};

	// 모바일 접속 확인
	var mobileCheck = (function(){
		return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?true:false;
	})();
	//---------------------------공통함수

	//main page 공지사항
	//# 메인개선삭제예정
	commonJs.loadMainNotice=function(){
		if(typeof _noticeXml=='undefined'||!_noticeXml) return;

		var noitceArr=_noticeXml.split('||');
		var detailA=$('dl.notice>dd>ul>li>a');

		detailA.text(noitceArr[0]);
		detailA.attr('href',"javascript:goNoticeDetail('"+noitceArr[1]+"');");
		$('dl.notice a.btn_more').attr('href',"javascript:goNoticeList();");
	};

	//direct/DS.html#
	commonJs.dsPopOpen = function()
	{
		var ta = doc.find('div.quickPurchase');
		doc.find('div.quickPurchase').css('display','block');

		if(doc.find('#mask').length == 0)
		{
			doc.find('div.productSelect_wrap').append("<div id='mask' style='display:block;z-index:1;'></div>");
		}
		ta.find('a.layerClose').bind('click', function( evt )
		{
			ta.css('display','none');
			doc.find('#mask').remove();
		});
	};

	//슬라이더 ex)//www/poc/product/TS1.1.4.html
	commonJs.setSlider=function(_sltr, _curVal, _max, _hasPoint, _hasCurVal){
		$(_sltr).each(function(){
			var sltr=_sltr;
			var curVal=_curVal;
			var max=_max;
			var hasPoint=_hasPoint;
			var hasCurVal=_hasCurVal;

			var curX=null;
			var sliderHandle=null;
			var slider=$(this);
			var ctrl=slider.find('.controller');
			var ctrlVal=ctrl.find('strong>span');
			var overUnit=ctrl.find('strong>em');
			var currUsage=slider.find('span.currUsage');
			var maxLeft=Number(ctrl.parent('.controllerArea').css("width").replace("px",""));

			var currPoint;
			var customUsage;
			var currPointLeft;
			var ctrlEmVal;

			// 초기화 시작
			var init=function(_curVal, _max, _hasPoint, _hasCurVal){
				curVal=_curVal;
				max=_max;
				hasPoint=_hasPoint;
				hasCurVal=_hasCurVal;

				if(hasCurVal){
					currPoint=slider.find('.currPoint');
					customUsage=slider.find('.customUsage');
					ctrlEmVal=ctrl.find('em>span');
					ctrlEmVal.text(0);
					//#2107.07.15 수정시작
					//[#5238] 내게맞는 요금제찾기_오류 수정 (오류수정)

					if(_curVal>_max){
						var _tempC=Math.round((_max-_curVal)*10)/10+"";
						$('#fee_dataUsedAdd').text(_tempC);
					}
					//#수정끝
				}
				if(curVal>=max){
					ctrl.css("left", maxLeft+"px");
					currUsage.css("width", maxLeft+"px");
					ctrlVal.text(max);
					if(hasCurVal){
						currPoint.css("left", maxLeft+"px");
						customUsage.css("width", maxLeft+"px");
						currPointLeft=Number(currPoint.css("left").replace("px",""));
					}
					overUnit.show();

				}
				else if(curVal<0){
					ctrl.css("left","0px");
					currUsage.css("width","0px");
					ctrlVal.text(0);
					if(hasCurVal){
						currPoint.css("left", "0px");
						customUsage.css("width", "0px");
						currPointLeft=Number(currPoint.css("left").replace("px",""));
					}
					overUnit.hide();
				}
				else{
					ctrl.css("left",curVal/max*maxLeft+"px");
					currUsage.css("width",curVal/max*maxLeft+"px");
					if(hasPoint) ctrlVal.text(Math.round(curVal*10)/10);
					// else ctrlVal.text(parseInt(curVal));
					else ctrlVal.text(Math.round(curVal));

					if(hasCurVal){
						currPoint.css("left",curVal/max*maxLeft+"px");
						customUsage.css("width",curVal/max*maxLeft+"px");
						currPointLeft=Number(currPoint.css("left").replace("px",""));
					}
					overUnit.hide();
				}
			};

			init(_curVal, _max, _hasPoint, _hasCurVal);

			// 선택값 세팅
			var fn_result=function(x, isKeyDown){
				var curLeft=Number(ctrl.css("left").replace("px",""));
				var resLeft=curLeft-curX+x;

				if(isKeyDown) resLeft=curLeft+x;

				var val;
				var emVal;
				if(hasCurVal){
					if(resLeft<0) {
						ctrl.css("left","0px");
						currUsage.css("width","0px");
						customUsage.css("width",currPointLeft+"px");
						ctrlVal.text(0);
						ctrlEmVal.text(-curVal);
						overUnit.hide();

					}else if(resLeft>=maxLeft) {
						ctrl.css("left",maxLeft+"px");
						currUsage.css("width",currPointLeft+"px");
						customUsage.css("width",maxLeft+"px");
						ctrlVal.text(max);
						if(hasPoint) ctrlEmVal.text(""+Math.round((max-curVal)*10)/10);
						else ctrlEmVal.text(""+Math.round(max-curVal));
						/*#수정
						if(hasPoint) ctrlEmVal.text("+"+Math.round((max-curVal)*10)/10);
						else ctrlEmVal.text("+"+Math.round(max-curVal));
						*/
						overUnit.show();
					}else if(resLeft<=currPointLeft){
						ctrl.css("left",resLeft+"px");
						currUsage.css("width",resLeft+"px");
						customUsage.css("width",currPointLeft+"px");

						if(hasPoint) {
							val=Math.round(resLeft/maxLeft*max*10)/10;
							emVal=Math.round((val-curVal)*10)/10;
						}else {
							// val=parseInt(resLeft/maxLeft*max);
							val=Math.round(resLeft/maxLeft*max);
							emVal=val-curVal;
						}

						ctrlVal.text(val);
						ctrlEmVal.text(emVal);
						overUnit.hide();
					}else if(resLeft>currPointLeft){
						ctrl.css("left",resLeft+"px");
						currUsage.css("width",currPointLeft+"px");
						customUsage.css("width",resLeft+"px");

						if(hasPoint) {
							val=Math.round(resLeft/maxLeft*max*10)/10;
							emVal=Math.round((val-curVal)*10)/10;
						}
						else {
							// val=parseInt(resLeft/maxLeft*max);
							val=Math.round(resLeft/maxLeft*max);
							emVal=val-curVal;
						}
						ctrlVal.text(val);
						ctrlEmVal.text("+"+emVal);
						overUnit.hide();
					}
				}else{
					if(resLeft<0) {
						ctrl.css("left","0px");
						currUsage.css("width","0px");
						ctrlVal.text(0);
						overUnit.hide();
					}
					else if(resLeft>=maxLeft) {
						ctrl.css("left",maxLeft+"px");
						currUsage.css("width",maxLeft+"px");
						ctrlVal.text(max);
						overUnit.show();
					}
					else {
						ctrl.css("left",resLeft+"px");
						currUsage.css("width",resLeft+"px");

						if(hasPoint) val=Math.round(resLeft/maxLeft*max*10)/10;
						// else val=parseInt(resLeft/maxLeft*max);
						else val=Math.round(resLeft/maxLeft*max);
						ctrlVal.text(val);
						overUnit.hide();
					}
				}
			};

			//블록 드래그 방지 ie7/8
			ctrl.bind("dragstart",function(e){
				e.preventDefault ? e.preventDefault() : e.returnValue = false;
			});

			//pc mouse event
			ctrl.bind("mousedown",function(e){
				curX=e.pageX;
				sliderHandle=this;
			});

			//a 태그 클릭 이벤트 방지.
			ctrl.bind("click",function(e){
				e.preventDefault();
			});

			$('html').bind("mouseup",function(e){
				curX=null;
				sliderHandle=null;
			});

			$('html').bind("mousemove",function(e){
				if(sliderHandle!=null) {
					fn_result(e.pageX);
					curX=e.pageX;
				}
			});


			//키보드 컨트롤
			ctrl.bind('keydown',function(e){
				if(e.keyCode==39||e.keyCode==38){
					e.preventDefault();
					if(hasPoint){
						fn_result(maxLeft/(max*10),true);
					}else{
						fn_result(maxLeft/max,true);
					}

				}else if(e.keyCode==37||e.keyCode==40){
					e.preventDefault();
					if(hasPoint){
						fn_result(-maxLeft/(max*10),true);
					}else{
						fn_result(-maxLeft/max,true);
					}
				}
			});

			//--------------------------------------------------------------------------
			//mobile touch event
			ctrl.bind("touchstart",function(e){
				e.preventDefault ? e.preventDefault() : e.returnValue = false;//모바일 화면 드래그 방지
				curX=e.originalEvent.touches[0].clientX;
				sliderHandle=this;
			});

			$('html').bind("touchend",function(e){
				curX=null;
				sliderHandle=null;
			});

			$('html').bind("touchmove",function(e){
				if(sliderHandle!=null) {
					fn_result(e.originalEvent.touches[0].clientX);
					curX=e.originalEvent.touches[0].clientX;
				}
			});
			//--------------------------------------------------------------------------

			//외부 연결
			slider.data('cmn_scope',{
				resetSlider:function(curVal, max, hasPoint, hasCurVal){
					init(curVal, max, hasPoint, hasCurVal);
				}
			});
		});
	};
	//----------------------

	// string 좌우 공백 제거
	commonJs.trimLR=function(str){
		return str.replace(/(^\s*)|(\s*$)/g,'');
	};

	// 포커스 가능한 엘리먼트 찾기
	commonJs.findFocusElements = function( target )
	{
		//div[tabindex="0"], a, button, input, textarea
		return target.find('div[tabindex="0"], a, button, input, textarea');
	}

	// 2018.01.15 화면에 보이는 포커스 가능한 요소만 검색 START
	commonJs.visibleFindFocusElements = function ( target )
	{
		//div[tabindex="0"], a, button, input, textarea
		return target.find('div[tabindex="0"]:visible:enabled, a:visible:enabled, button:visible:enabled, input:visible:enabled, textarea:visible:enabled');
	}
	// 2018.01.15 화면에 보이는 포커스 가능한 요소만 검색 END

	// 탭키 포커스 이동 함수
	commonJs.closeTabkeyFocus = function( obj )
	{
		var first = obj.eq(0);
		$(first).data('first',true);

		var end = obj.eq(obj.size()-1);
		var focusObj = function( )
		{
			var _this = this;
			$(first).unbind('keydown').bind('keydown' , function(e)
			{
				if( e.shiftKey && e.keyCode == TABKEY_CODE)
				{
					if( $(e.target).data('first') ){
						$(end).focus();
						e.preventDefault();
					}
				}
			});

			$(end).unbind('keydown').bind('keydown' , function(e)
			{
				if( !e.shiftKey && e.keyCode == TABKEY_CODE)
				{
					$(first).focus();
					e.preventDefault();
				}
			});

			_this.clear = function()
			{
				$(first).unbind('keydown');
				$(end).unbind('keydown');
			};

			// 팝업창 이동형태가 활성화된 창에서만 도는 경우에는 필요가 업으나 팝업창이 닫히고 다른 이벤트가 발생하여야 하는 경우에는 사용 할수도 있음
			_this.off = function(){ };
			_this.on = function(){ };
			_this.bind = function( evt , func)
			{

			};
		};
		return new focusObj();
	};

	//caledndar 생성 함수
	/*
	parameters
	slt:(필수값)달력이 생성되는 최상위 요소(두개이상의 달력 생성 가능)
	opt:{
			start:선택할수 있는 날짜 최소 값,
			current:오늘 날짜 값,
			end:선택할수 있는 날짜 최대 값
		}
	 	날짜(start, current, end)값 형식 { year:2015, month:1, day:1 }
	ex.) commonJs.setCalendar('div.calendar'); //옵션x
		 commonJs.setCalendar('div.calendar', //옵션O
	 		{ start:{ year:2015, month:1, day:1 },
			  current:{ year:2015, month:1, day:1 },
			  end:{ year:2015, month:1, day:1 } }
		 );
	*/

	// 달력 세팅
	function setCalendar()
	{

		//commonJs.setCalendar=function(slt, opt){
		//var calendar = doc.find(slt);//doc.find('div.calendar');
		var calendar = doc.find('div.calendar');
		if( !calendar.length ){
			return;
		}

		// 한자리 숫자 앞자리 0 삽입
		function addZero( n )
		{
			return (String(n).length < 2)? '0'+n:n;
		}

		var curD=new Date();
		var stD=new Date(Date.parse(curD) - 30 * 1000 * 60 * 60 * 24);
		var endD=new Date(Date.parse(curD) + 30 * 1000 * 60 * 60 * 24);

		var option={
			start 	: { year : stD.getFullYear(), month : stD.getMonth()+1, day : stD.getDate() }, 		//달력 시작일
			current : { year : curD.getFullYear(), month : curD.getMonth()+1, day : curD.getDate() },	//달력 현재일
			end 	: { year : endD.getFullYear(), month : endD.getMonth()+1, day : endD.getDate() }	//달력 마지막
		};

		//카렌더 제어 객체 전달.
		window.$.fn.getCalrendar = function() //cmnJquery
		{
			return $(this).data('calrendar');
		};

		calendar.each(function( idx )
		{
			var cal = $(this).attr("data-val","cal-idx"+idx); //#myT WA
			var mIndex = cal.css('z-index');
			var box = cal.children('div.calBox');
			var calObj = box.calendarInit({
				target : box.children('.calTop'),
				year : box.find('p>.year'),			// 달표시
				month :box.find('p>.month') ,		// 월표시
				start 	: option.start, 			//달력 시작일
				current : option.current,			//달력 현재일
				end 	: option.end				//달력 마지막
			});
			cal.data('calrendar',calObj);
			calObj.setVisible( false );

			var input =  cal.children('input');
			// 2021.05.31 수정
			if (cal.attr("data-selected-day") !== undefined && calendar.attr("data-selected-day") !== '') {
				var selectedDay = cal.attr("data-selected-day").split(',')[0];
				input.attr('value', selectedDay.substring(0, 4) + '.' + selectedDay.substring(4, 6) + '.' + selectedDay.substring(6, 8));
			} else {
				input.attr('value',option.current.year+'.'+addZero( option.current.month )+'.'+addZero( option.current.day ));
			}

			// 달력 포커스 제어
			var first = commonJs.findFocusElements( box );
			commonJs.closeTabkeyFocus( first );

			calObj.calrendarClose = function()
			{
				cal.css('z-index',1);
				this.setVisible(false);
			};

			//날짜 선택 함수.
			//ex. $(생성된달력셀렉터[ex.='.calendar:eq(0)']).getCalrendar().selectDate({year:2015,month:5,day:21});
			calObj.selectDate = function(d){
				if(!d) return;
				calObj.setDate(d);
				input.attr('value',d.year+'.'+addZero( d.month )+'.'+addZero( d.day ));
			};

			//달력 열기
			calObj.calrendarOpen = function()
			{
				cal.css('z-index',1000);
				this.setVisible(true);
			};

			//달력 날짜 선택
			calObj.bind( calObj.EVENTS.SELECT , function( evt , date )
			{
				input.attr('value',date.year+'.'+addZero( date.month )+'.'+addZero( date.day ));
			});

			//달력 포커스 아웃
			calObj.bind(calObj.EVENTS.FOCUSOUT , function( evt ){
				$(evt.target).parent().removeClass('on');
			});

			cal.children('button.calBtn').bind('click', function(evt)
			{

				calendar.css('z-index',1);
				calendar.removeClass('on');
				//cal.css('z-index',10000);
				cal.css('z-index',4999);	// 2018.01.12 달력 레이어 GNB 충돌 현상 제거
				cal.addClass('on');

				$.each( calendar , function( idx , value)
				{

					if( $(value).data('calrendar') )
					{
						$(value).data('calrendar').setVisible( false );
					}
				});
				calObj.setVisible( true );
			});

			var top = box.children('div.calTop');


			top.children('button.first').text('이전 연도');
			// 이전 연도 버튼
			top.children('button.first').bind('click', function(evt)
			{
				calObj.prevYear();
			});

			top.children('button.prev').text('이전 달');
			// 이전 달 버튼
			top.children('button.prev').bind('click', function(evt)
			{
				calObj.prev();
			});

			top.children('button.next').text('다음 달');
			// 다음 달 버튼
			top.children('button.next').bind('click', function(evt)
			{
				calObj.next();
			});

			top.children('button.end').text('다음 연도');
			// 다음 연도 버튼
			top.children('button.end').bind('click', function(evt)
			{
				calObj.nextYear();
			});

			// 하단 버튼 영역
			var btn = box.children('div.btn');
			btn.children('button.close').bind('click' , function( evt )
			{
				cal.removeClass('on');
				calObj.setVisible(false);
				cal.css('z-index','');	// 2018.01.12 달력 레이어 GNB 충돌 현상 제거
			});

			// 오늘 버튼
			btn.children('button.today').bind('click' , function( evt )
			{
				var td=calObj.getToday();
				calObj.setDate(td);
				input.attr('value',td.year+'.'+addZero( td.month )+'.'+addZero( td.day ));
			});

		});


		// 전체변경
		// $('div.calendar:eq(0)').getCalrendar().setup({
		// 		start 	: { year : 2015 , month : 1, day : 1 },
		// 		current : { year : 2016 , month : 4, day : 6 },
		// 		end 	: { year : 2017 , month : 8, day : 1 }
		// });
		// 단일값 변경
		//$('div.calendar:eq(0)').getCalrendar().setToday(
		//	{
		//		year : 2016 , month : 4, day : 3
		//	}
		//);
		// 단일 달력 접근
		//$('div.calendar:eq(0)').getCalrendar().calrendarOpen();		// 열기
		//$('div.calendar:eq(0)').getCalrendar().calrendarClose();		// 닫기
	};

	//쿠키 설정
	function setCookie(key, value, days) {
		var date, expires;
		if (days) {
			date = new Date();
			date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
			expires = "; expires=" + date.toGMTString();
		} else {
			expires = "";
		}
		document.cookie = key + "=" + value + expires + "; path=/";
	}

	//쿠키 값 얻어오기
	function getCookie(key) {
		var results = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
		if (results) {
			return ( unescape(results[2]) );
		} else {
			return undefined;
		}
	}

	// 메인 설정
	function setMain()
	{
		//스프레드 배너 닫기 및 1일간 보이지 않기
		doc.find('div.ma_notice>div.notice_set>div.set>a').bind('click', function( evt )
		{
			evt.preventDefault();
			var ta = $(evt.target).closest('div.ma_notice');
			var day_off=ta.find('#day_off:checked').length;

			if(day_off){
				var spredId=ta.children('div[id]:first').attr('id');
				if(spredId) setCookie(spredId,'off',1);
			}

			ta.animate({ 'height':'0px' } , 500 , function()
			{
				ta.css('display','none');
			});
		});

		// 알파네비게이션
		doc.find('div.alpha_menu>div.conBox_center>div.alphaMn').each(function( idx )
		{
			var alphMn = $(this);
			var alpha_menu = alphMn.closest('.alpha_menu');
			var cn = 0;
			var listBox = alphMn.children('ul');
			var list = listBox.children('li');
			var tn = list.size();
			var mode = false;
			var rW = alphMn.width();
			var sW = list.width()+20;
			var rBtn = alphMn.parent().children('button');

			// var a = alphMn.children('ul').children('li').children('a');
			var a = $('div.alpha_menu>div.conBox_center>div.alphaMn>ul>li>a');
			a.live('click', function( evt )
			{
				if( !listBox.is(':animated') )
				{
					mode = true;
					var li = $(evt.target).closest('li');
					cn = li.index();
					evt.preventDefault();
					alpha_menu.addClass('alpha_on');
					li.addClass('on');
					listBox.css('margin-left' , pos()+'px');
					btnCheck();
				}
			});

			a.live('keydown', function( evt )
			{
				var ttn = totalCheck();
				if( !mode )
				{
					// cn = $(evt.target).closest('li').index();

					if(evt.keyCode == TABKEY_CODE && !evt.shiftKey){//shift+tab 이동
						cn++;
						if( cn > ttn)
						{
							cn = ttn;
						}
						listBox.css({'margin-left':pos()+'px'});
					}else if(evt.keyCode == TABKEY_CODE && evt.shiftKey){
						cn--;
						if( cn < 0)
						{
							cn = 0;
						}
						listBox.css({'margin-left':pos()+'px'});
					}
				}else if(evt.keyCode == TABKEY_CODE && evt.shiftKey){//shift+tab 이동
					var tcn = cn;
					cn--;
					if( cn < 0){
						cn = 0;
					}
					if( tcn != cn ){
						moveF(true);
					}
				}
			});

			var btnClose = alphMn.find('ul>li>div.sCon>button.btnClose');
			btnClose.live('click', function( evt )
			{
				mode = false;
				list.removeClass('on');
				alpha_menu.removeClass('alpha_on');
				cn = cn-3;
				if( cn < 0 ){
					cn = 0;
				}
				$(this).closest('li').children('a:first').focus();
				listBox.css('margin-left', pos()+'px');
				btnCheck();
			});
			btnClose.live('keydown', function( evt )
			{
				if( evt.keyCode == TABKEY_CODE && !evt.shiftKey)
				{
					var tcn = cn;
					var ttn = totalCheck();
					cn++;
					if( cn > ttn){
						cn = ttn;
					}
					if( tcn != cn ){
						moveF(true);
						evt.preventDefault();
						a.eq(cn).focus();

					}
				}
			});

			var ieVer=ieVerCheck();
			if(ieVer>8||ieVer==-1){
				// 모바일 대응 제스쳐 추가
				var je = new commonJs.Jessture( alphMn );
				je.bind( je.RIGHT , function()
				{
					alphMn.parent().children('button.btnPrev').click();
				});
				je.bind( je.LEFT , function()
				{
					alphMn.parent().children('button.btnNext').click();
				});
			}

			alphMn.parent().children('button').bind('click', function( evt )
			{
				var tcn = cn;
				var bt = $( evt.target );
				var ttn = totalCheck();

				if( bt.hasClass('btnPrev') )
				{
					cn--;
					if( cn < 0){
						cn = 0;
					}
				}else{
					cn++;
					if( cn > ttn){
						cn = ttn;
					}
				}true
				if( tcn != cn ){
					moveF();
				}
			});

			alphMn.parent().children('button.btnPrev').bind('keyup', function( evt )
			{
				if( evt.shiftKey ){
					var tcn = cn;
					var bt = $( evt.target );
					var ttn = totalCheck();
					cn--;
					if( cn < 0){
						cn = 0;
					}
					if( tcn != cn ){
						moveF();
						commonJs.findFocusElements( list.eq(cn) )[0].focus();
					}
				}
			});

			var pos = function()
			{
				var tn;
				if( mode ){
					list.eq(cn).addClass('on');
					tn = -(rW * cn);
				}else{
					tn = -(sW * cn);
				}


				return tn;
			};

			var moveF = function(_noAnimate)
			{
				if( mode ){
					rBtn.css('display','none');
					//alphMn.parent().children('button').css('display','none');
					list.find('button.btnClose').css('display','none');
				}
				if(!_noAnimate){
					listBox.animate({'margin-left':pos()+'px'},400,function()
					{
						//alphMn.parent().children('button').css('display','block');
						rBtn.css('display','block');
						list.find('button.btnClose').css('display','block');
					});
				}else{
					listBox.css({'margin-left':pos()+'px'});
					rBtn.css('display','block');
					list.find('button.btnClose').css('display','block');
				}

				btnCheck();
			};

			var totalCheck = function()
			{
				return (mode)?tn-1:tn-4;
			};

			var btnCheck = function()
			{
				if( cn == 0){
					rBtn.eq(0).addClass('noData');
				}else{
					rBtn.eq(0).removeClass('noData');
				}
				if( cn == totalCheck()){
					rBtn.eq(1).addClass('noData');
				}else{
					rBtn.eq(1).removeClass('noData');
				}
			};
			btnCheck();
		});
		/* 11.07
		var IEVer=ieVerCheck();
		if(IEVer=="7"){
			$('#agree_pop').removeClass('w550').addClass('ie7_w550');
		}
		if(getCookie('MAIN_AGREE_POP')=="Y"){//동의의결 과련 요금제 제한사항 고지관련팝
			$('#agree_pop').hide();
		}else{
			$('#agree_pop').show();
		}

		$('#agree_pop .todayClose .checkbox input').bind('change',function(evt){
			var day_off=$(this).is(':checked');

			if(day_off){
				setCookie('MAIN_AGREE_POP','Y',1);
			}else{
				setCookie('MAIN_AGREE_POP','N',1);
			}
		});
		*/

	}

	//----------------------------------------
	// 슬라이드 배너를 설정 클래스 형태의 사용을 상정했기 때문에 new로 생성을 해야 한다.
	function SliderObject( _opt )
	{
		var option ={
			'width' 		: 100,
			'target' 		: null,
			'total'			: 2,
			'nextBtn'		: null,
			'prevBtn'		: null
		};

		var opt = $.extend(option,_opt);
		var prev = opt.prevBtn;
		var next = opt.nextBtn;
		var total = opt.total;
		var cn = 0;
		var slideW = opt.width;
		var slide = opt.target;
		var ul = slide.children('ul');
		var li = ul.children('li');
		var _this = this;
		// 한페이지에 보여지는 갯수
		var vCnt = Math.floor(slideW/li.width());

		prev.bind('click',clickF);
		next.bind('click',clickF);
		//next.addClass('on');
		btn();

		li.find('a').bind('keydown', function(evt)
		{
			var n =  $(this).parent().index();
			if( evt.keyCode == TABKEY_CODE )
			{
				if( evt.shiftKey){
					if( n > 0 ){
						n -= 1;
					}
				}else{
					n +=1;
				}
			}
			var tcn = Math.floor( n  / vCnt );
			cn = tcn;
			btn();
			ul.css({'marginLeft':-(slideW* cn) +'px'});
		});

		function clickF( e )
		{
			var $this = $(this);
			if( $this.hasClass('btnNext') )
			{
				if( total >cn){
					cn++;
					move();
				}else{
					cn = total;
				}
			}else{
				if( cn >0){
					cn--;
					move();
				}else{
					cn = 0;
				}
			}
			btn();
		}

		function btn(){
			prev.addClass('on');
			next.addClass('on');
			if( cn == 0){
				prev.removeClass('on');
			}
			if(cn ==  total){
				next.removeClass('on');
			}
		}
		function move(){
			ul.filter(function()
			{
				if( $(this).css('display') !=  'none')
				{
					$(this).animate({
							'marginLeft' :-(slideW*cn) +'px'
						} ,
						{
							duration : 200,
							complete : function()
							{
								$(_this).trigger( _this.event.CHANGE , { 'current':cn ,'total':total  });
							}
						});
				}
			});
		}

		this.setTotal = function( _tn ){
			total = _tn;
		};
		this.setCurrent = function( _cn ){
			cn = _cn;
			btn();
		};
		this.moveTo = function( _n ){
			cn = _n;
			move();
			btn();
		};
		this.bind = function( evt , func){
			$(_this).bind(evt , func );
		};
		this.event = {
			CHANGE : 'change'
		};
	}

	// 라디오박스 세팅
	function setRadioBox()
	{
		// basicType = 기본 라디오 박스 (스크립트 적용 않됨)

		// 초기화
		$('input:radio:not(.basicType)').each(function(){
			var ta=$(this);
			if(ta.is(':checked')){
				ta.parent().addClass('checked');
			}

			if(ta.is(':disabled')){
				ta.parent().addClass('disabled');
			}
		});

		// 클릭 이벤트
		$('input:radio:not(.basicType)').live('click change',function(e){	// 2018.01.09 IE11 키보드 사용성 수정
			var $this=$(this);
			if(!$this.parent().hasClass('disabled')){
				var inPop=$('.inPop');

				var nm=$this.attr('name');
				var isChecked=$this.is(':checked');
				var isCheckClass=$this.hasClass('nochecked'); // 2019.05.10 [#OP002-351] [PUB] [VOC 대응] 번호변경 시 조회번호 선택시간 단축
				$('input:radio[name='+nm+']').each(function(){
					var target=$(this);
					!isCheckClass && target.attr("checked",false); // 2019.05.10 [#OP002-351] [PUB] [VOC 대응] 번호변경 시 조회번호 선택시간 단축
					target.parent().removeClass('checked');
					if(target.parent().hasClass('bgOn'))
					{
						target.parent().parent().removeClass('on');
					}
				});

				if($this.parent().hasClass('bgOn')){
					$this.parent().parent().addClass('on');
				}
				$this.parent().addClass('checked');
				!isCheckClass && $this.attr("checked",true); // 2019.05.10 [#OP002-351] [PUB] [VOC 대응] 번호변경 시 조회번호 선택시간 단축
				$this.trigger("liOnEvt");
				$this.focus();
			}
		});
	}

	// 체크박스 세팅
	function setCheckBox()
	{
		// 초기화
		var chkBox = doc.find('.checkbox>input:checkbox');
		chkBox.each(function(idx)
		{
			var box = $(this);
			box.attr('role','checkbox');
			box.attr('aria-checked',false);
			if( box.prop('checked') )
			{
				box.parent().addClass('checked');
				box.parent().attr('aria-checked',true);
			}

			if( box.attr('disabled') )
			{
				box.parent().addClass('disabled');
			}

		});

		// 클릭 이벤트 (.no_checkbox_evt 해당 이벤트 예외 처리)
		$('.checkbox>input:checkbox:not(.no_checkbox_evt)').live( 'click' , function()
		{
			var target = $(this);
			var tParnet =target.parent();
			if( !tParnet.hasClass('disabled') ){
				tParnet.toggleClass('checked');
				if( tParnet.hasClass('checked') ){
					target.attr('checked', true);
					target.attr('aria-checked',true);
				}else{
					target.attr('checked', false);
					target.attr('aria-checked',false);
				}
			}
		});
	}

	// 레이어 팝업 설정
	function  setPopup()
	{
		var zindexTmp=0;
		$('#mask').live('click',function(e){
			e.preventDefault();
			e.stopPropagation();
			$('div.layerPop1').each(function(){
				if($(this).data('openBy')){
					// 첫 포커스 검색
					commonJs.findFocusElements($(this)).eq(0).focus();
					return false;
				}
			});
		});

		// 레이어팝업 닫기
		// target = 레이어팝업 셀렉터 , fix_scrollTop = true 현재 스크롤 위치로 고정
		commonJs.closeLayerPop=function(target, fix_scrollTop){
			var curTop;
			if(fix_scrollTop) curTop=$(window).scrollTop(); //스크롤 이동방지

			var tpop=$(target).closest('div.layerPop1');
			tpop.css('display' , 'none');

			tpop.find('iframe.videoFrame').each(function(){
				$(this).attr('src', $(this).attr('src'));
			});

			$("#container").css("z-index","");
			$("#mask").parent().parent().css("z-index",zindexTmp);
			$("#mask").remove();

			$("#container").css('position','relative');
			$('body').css('overflow-y','');
			$("#header").css('z-index','5000');
			/////////////////////////////////////////////////////////////
			// 다중버튼처리
			var openBy=tpop.data('openBy');
			if(openBy&&openBy.is(':visible')){
				openBy.focus();//focusBtn.focus();
				tpop.data('openBy',null);
			}
			/////////////////////////////////////////////////////////////

			tpop.find('ul.arcBox>li.on').removeClass('on'); //arcBox 초기화

			if(fix_scrollTop) $(window).scrollTop(curTop); //스크롤 이동방지
		};

		// 레이어팝업 탭 이동
		$('div.layerPop1').live( 'keydown' , function( e ) //탭, shift탭
		{
			var obj=commonJs.findFocusElements($(this)).filter(':visible');
			var first=obj.eq(0);
			var end=obj.eq(obj.length-1);

			if(e.target==first[0]){
				if( e.shiftKey && e.keyCode == TABKEY_CODE)
				{
					$(end).focus();
					e.preventDefault();
				}

			}else if(e.target==end[0]){
				if( !e.shiftKey && e.keyCode == TABKEY_CODE)
				{
					$(first).focus();
					e.preventDefault();
				}
			}
		});

		// 팝업 열기
		// target = 레이어팝업 셀렉터, openBy = 팝업 호출하는 버튼 셀렉터( 닫을 시 해당 버튼으로 포커스 이동 )
		function popShow(target,openBy)
		{
			target.data('openBy',openBy);
			target.css(
				{
					position : 'fixed',
					'display' : 'block',
					'top': '50%'
					//'top': ( ($(window).height()/2) - (target.height()/2) )+'px'
				});
			var n = target.height()/2;
			target.css( 'margin-top',-n+'px' );


			target.append("<div id='mask' style='display:block;z-index:-1;'></div>");
			zindexTmp=target.parent().css("z-index");
			target.parent().css("z-index",10000);
			$("#container").css("z-index",1001);

			//gnb mask
			$("#header").css('z-index','1000');
			$("#container").css('position','static');
			$('body').css('overflow-y','hidden');
			//

			// 첫 포커스 검색
			commonJs.findFocusElements(target).filter(':visible').eq(0).focus();
		}

		commonJs.openLayerPop=popShow;// 외부함수 연결


		// 외부 jquery 버전에 따라 이벤트 바인드
		if(window.$.fn.live){ // live 바인드
			window.$('div.layerPop1 button.popClose').live( 'click' , function( e )
			{//닫기
				if($(this).hasClass('fix_scrollTop')) commonJs.closeLayerPop(this,true);
				else commonJs.closeLayerPop(this);

			});

			window.$('.layerOpen').live('click' , function(e)
			{
				e.preventDefault();
				e.stopPropagation();
				popShow($(this).next(),$(this));
			});

			window.$('div.layerPop1 .subClose').live('click',function(e){
				e.preventDefault();
				if($(this).hasClass('fix_scrollTop')) commonJs.closeLayerPop(this,true);
				else commonJs.closeLayerPop(this);
			});

			window.$('a.id_layerOpen').live('click',function(e){
				e.preventDefault();
				popShow($($(this).attr('href')),$(this));
			});
		}else if(window.$.fn.on){ // on 바인드
			window.$(document).on('click' ,'div.layerPop1 button.popClose', function( e )
			{//닫기
				if($(this).hasClass('fix_scrollTop')) commonJs.closeLayerPop(this,true);
				else commonJs.closeLayerPop(this);
			});
			window.$(document).on('click','.layerOpen' , function(e)
			{

				e.preventDefault();
				e.stopPropagation();
				popShow($(this).next(),$(this));
			});

			window.$(document).on('click','div.layerPop1 .subClose',function(e){
				e.preventDefault();
				if($(this).hasClass('fix_scrollTop')) commonJs.closeLayerPop(this,true);
				else commonJs.closeLayerPop(this);
			});

			window.$(document).on('click','a.id_layerOpen',function(e){	//a.id_layerOpen 레이어팝업 열기 버튼이 불리된 경우 id값으로 열기 // MY1.1.1.2.html

				e.preventDefault();
				popShow($($(this).attr('href')),$(this));
			});
		}


	}

	// 슬라이드 세팅
	function setUlSlide(){

		// eventType1
		commonJs.setSlideBox=function(_sltr){
			$(_sltr).each(function(sl_idx){
				var slideBox=$(this); //.slideBox, .slideBox2
				var slideCon=slideBox.children("div.slideCon,div.slideCon2");
				var slideUl=slideCon.children("ul"); // ul
				var slideLi=slideUl.children("li"); // li
				var startSlideW = 1180;

				var slideBullet=slideBox.find(".slideNavi , div.slideNavi2");
				var slideBulletLi=slideBullet.find("ul>li");
				var btnPrev=slideBox.find("button.btnPrev"); // 이전버튼
				var btnNext=slideBox.find("button.btnNext"); // 다음버튼
				var btnPlay=slideBox.find("button.btnPlay"); // play버튼
				var btnStop=slideBox.find("button.btnStop"); // stop버튼
				var liCnt=slideLi.length; // li length
				var w=slideCon.width();	// 컨텐츠 넓이
				//startSlideW = w;
				var h=slideCon.height(); // 컨텐츠 높이
				var duration=300; // animate 시간
				var curIdx=0; // 현재 li 인덱스
				var isAnimating=false; // 슬라이드 효과 실행중 flag
				var arrLeft=new Array(); // 각 li 위치(left)
				var isHideContent = (slideCon.hasClass('slideCon2') || slideCon.hasClass('notVisible')) ? false : true;  // 2020.07.13 케이스 추가
				var chkArray = new Array();   // [20190213 TOS추가] 슬라이딩 배너의 반복루핑이 2회이상 넘어갈때부터 Xtractor에 스크립트 송신하지 않도록하는 배열값 선언

				//이전,다음 버튼 비활성화/활성화
				var checkNodata=function (){
					if(curIdx==0){
						btnPrev.addClass('nodata');
						btnNext.removeClass('nodata');
					}
					else if(curIdx==(liCnt-1)){
						btnNext.addClass('nodata');
						btnPrev.removeClass('nodata');
					}
					else{
						btnPrev.removeClass('nodata');
						btnNext.removeClass('nodata');
					}
				};

				if( slideBox.hasClass('fullSize') )
				{
					$(resizeObject).bind('resize' , function()
					{
						if( startSlideW < commonJs.WIDTH ){
							w = commonJs.WIDTH;
						}else{
							w = startSlideW;
						}
						slideCon.css('width' , w+'px');
						resizeFunc();
					});
				}

				var isConSize=slideBox.hasClass('conSize'); //slideCon안에 li 2개이상인 경우
				var oneSlideLi=0;
				var liWidth=0;

				if(isConSize){
					var tmp=0;
					var cnt=0;
					if(slideLi.length>0){
						liWidth=slideLi.eq(0).outerWidth(true)-Number(slideLi.eq(0).css('margin-left').replace('px',''))-Number(slideLi.eq(0).css('margin-right').replace('px',''));
						while(true){
							tmp+=liWidth;
							if(w<tmp) break;
							cnt++;
						}
						oneSlideLi=cnt;

					}

					slideBox.data('cmn_scope',{
						deleteLi:function(i){
							slideUl.children("li").eq(i).remove();
							if((oneSlideLi*(slideBullet.find("ul>li").length-1))>=slideUl.children("li").length){
								slideBullet.find("ul>li:last").remove();
								slideBulletLi=slideBullet.find("ul>li");
								var onIdx=slideBullet.find("ul>li.on").index();
								if(curIdx!=onIdx){
									if(onIdx!=-1){
										curIdx=onIdx;
									}else{
										curIdx=slideBullet.find("ul>li:last").index();
										slideBullet.find("ul>li:last").addClass('on');
									}
								}

								if(slideBulletLi.length<=1) {
									btnPrev.hide();
									btnNext.hide();
									slideBullet.hide();
								}
							}
							resizeFunc(true);
						}
					});
				}

				var isDynamicHeight=slideBox.hasClass('dynamicHeight'); //높이값이 일정하지 않은 경우
				var resizeHeight;
				var slideBulletHeight=slideBullet.outerHeight(true);
				if(isDynamicHeight){
					resizeHeight=function(){
						slideLi.css('height','auto');
						var liHeight=slideLi.eq(curIdx).outerHeight(true);
						slideCon.css('height',(liHeight+slideBulletHeight*2)+'px');
						slideBullet.css('width',slideBullet.css('width'));
					};
				}

				// reisze 시 사이즈 조절
				var resizeFunc = function(ul_left){
					slideCon.css({
						"overflow":"hidden",
						"position":"relative",
						"width":w+"px",
						"height":h+"px"
					});

					for(var i=0;i<liCnt;i++) arrLeft[i] = (i*(-w)); // 2018.06.20 [#6811] [공통] 메인슬라이드 인디케이터 오류 수정 관련 (오류수정)

					if(ul_left || curIdx){ // 2018.06.20 [#6811] [공통] 메인슬라이드 인디케이터 오류 수정 관련 (오류수정)
						slideUl.css({
							"display":"block",
							"position":"absolute",
							"width":(w*liCnt)+"px",
							"height":h+"px",
							"top":"0px",
							"left":arrLeft[curIdx]+"px"
						});
					}else{
						slideUl.css({
							"display":"block",
							"position":"absolute",
							"width":(w*liCnt)+"px",
							"height":h+"px",
							"top":"0px",
							"left":"0px"
						});
					}

					var liCssObj;

					if(!isConSize){
						liCssObj={
							"display":"block",
							"float":"left",
							"width":w+"px",
							"height":h+"px"
						};
					}else{
						slideLi=slideUl.children("li");
						liCnt=slideBullet.find("ul>li").length;
						liCssObj={
							"display":"block",
							"float":"left",
							"height":h+"px"
						};
					}

					slideLi.css(liCssObj);

					if(slideLi.children('div').length>0){
						var tm=slideLi.children('div').eq(0).position().top;
						if(tm==1){
							slideCon.css('height',(h+tm)+'px');
							slideUl.css('height',(h+tm)+'px');
						}
					}

					slideLi.each(function(n)
					{
						$(this).css(
							'left' , arrLeft[n]+"px"
						);
					});
					isHideContent && slideLi.css('visibility', 'hidden').eq(0).css('visibility', 'visible');	// 2018.01.09 웹접근성관련 수정

					if(slideLi.length>0&&isConSize){
						var m=w/oneSlideLi-liWidth;
						slideLi.each(function(i){
							var tareget=$(this);
							tareget.css({
								'margin-left':'0px',
								'margin-right':'0px'
							});
							if((i+1)%oneSlideLi==1){
								tareget.css('margin-left',(m/2)+'px');
							}else {
								tareget.css('margin-left',m+'px');
								if((i+1)%oneSlideLi==0) tareget.css('margin-right',(m/2)+'px');
							}
						});
					}
					if(slideBulletLi.length>0){
						slideBullet.css('text-align',slideBullet.css('text-align'));
					}

					if(isAnimating){
						//			slideUl.stop().css('left', arrLeft[curIdx]+"px");
						isAnimating=false;
						if(isAuto&&!isPause) startSlide();
					}


					// if(isConSize) slideUl.css('width','');
					if(isDynamicHeight) resizeHeight();
				};
				slideUl.css("left",arrLeft[0]+"px");
				resizeFunc();

				btnPrev.addClass('nodata');

				// 슬라이드 이동(목표index,효과 유무, !!현재 사용 안함!!)
				var slideTo=function(i,noAnimate,fromBtn){
					if(isAnimating) return;
					isAnimating=true;
					if(isAuto&&!isPause) stopSlide();
					if(noAnimate){
						slideUl.css("left",arrLeft[i]+"px");
						isAnimating=false;
						if(isAuto&&!isPause) startSlide();
					}else{
						slideUl.find('li').css('visibility', 'visible'); // 2018.04.03 [#6338] [T apps] T apps index 페이지 슬라이드 영역 오류 확인 요청 (오류수정)
						slideUl.animate({
							"left": arrLeft[i]+"px"
						},duration,function (){
							isAnimating=false;
							if(isAuto&&!isPause) {
								startSlide();
							}
							isHideContent && slideUl.find('li').css('visibility', 'hidden').eq(i).css('visibility', 'visible'); // 2018.04.03 [#6338] [T apps] T apps index 페이지 슬라이드 영역 오류 확인 요청 (오류수정)
						});
					}
					curIdx=i;
					checkNodata();
					if(slideBulletLi.length>0){
						slideBulletLi.removeClass("on");
						slideBulletLi.eq(curIdx).addClass("on");
						slideBullet.trigger("slide_on_evt");
					}

					if(isDynamicHeight) resizeHeight();
				};

				var prev=function(){ //이전
					if(curIdx<=0) return;
					if(!isAnimating) btnPrev.trigger("prev_slide_evt");
					slideTo(curIdx-1,false,"btnPrev");

				};

				var next=function(){ //다음
					if(curIdx>=(liCnt-1)) return;
					if(!isAnimating) btnNext.trigger("next_slide_evt");
					slideTo(curIdx+1,false,"btnNext");

				};

				btnPrev.bind('click',function(){//이전 버튼 이벤트
					prev();
				});

				btnNext.bind('click',function(){//다음 버튼 이벤트
					next();
				});
				if(slideBulletLi.length>0){
					slideBulletLi.removeClass('on');
					slideBulletLi.eq(0).addClass('on');

					slideBulletLi.find("a").bind("click",function(e){
						e.preventDefault();
						var thisLi=$(this).parent();
						var thisIdx=thisLi.index();
						if(!thisLi.hasClass("on")){
							slideTo(thisIdx);
						}
					});
				}

				// 모바일 대응 제스쳐 추가
				var ieVer=ieVerCheck();
				if(slideBox.closest('.promotionSlide').length>0&&(ieVer>8||ieVer==-1)){
					var je = new commonJs.Jessture( slideBox );
					je.bind( je.RIGHT , function()
					{
						prev();
					});
					je.bind( je.LEFT , function()
					{
						next();
					});
				}


				//auto slide
				var startSlide; //타이머 시작 function
				var stopSlide;	//타이머 멈춤 function
				var aDuration=6000; // 2018.06.08 [#6785] [메인] T world 메인 배너 롤링 속도 조정 요청의 건 (요건추가) -> 3000에서 6000으로 조정
				var timer=0;
				var isAuto=slideBox.hasClass('autoSlide'); // 자동 슬라이드 유/무 flag
				var isPause=false; // 슬라이드 멈춤 flag
				var stopBtn=true; //버튼 멈춤 or 포커스 멈춤
				if(isAuto){
					btnPlay.hide();
					btnStop.show();

					startSlide=function(){
						// [20190213 TOS추가] 슬라이딩 배너 처음에 로딩될때(curIdx가 0일때), Xtractor에 expand 스크립트 송신
						xtractorCall(slideUl, curIdx, chkArray);
						if(!timer) timer=setInterval(function(){
							if(curIdx==(liCnt-1)){
								slideTo(0);
							}else{
								slideTo(curIdx+1);
							}


						},aDuration);
					};
					stopSlide=function(){
						if(timer) clearInterval(timer);
						timer=null;
					};
					if(btnPlay.length>0){
						btnPlay.bind('click',function(){
							startSlide();
							isPause=false;
							stopBtn=true;
							btnPlay.hide();
							btnStop.show().focus(); // 2020.04.08 접근성 수정
						});
					}

					if(btnStop.length>0){
						btnStop.bind('click',function(){
							stopSlide();
							isPause=true;
							stopBtn=false;
							btnPlay.show().focus(); // 2020.04.08 접근성 수정
							btnStop.hide();
						});
					}

					startSlide();
				}

				// 키보드 제어 접근성
				var focusEl=commonJs.findFocusElements(slideLi);
				// focusEl=focusEl.filter('a');
				focusEl.addClass('fcEl_'+sl_idx);
				var focusElCls='.fcEl_'+sl_idx;
				var focusEl_slideBox= commonJs.findFocusElements(slideBox);

				if(isAuto){
					focusEl_slideBox.bind('blur',function(e){
						if(isPause&&stopBtn){
							//포커스 오토슬라이드 재시작
							startSlide();
							isPause=false;
						}
					});

					focusEl_slideBox.bind('focus',function(e){
						if(!isPause&&stopBtn){
							//포커스 오토슬라이드 멈춤
							stopSlide();
							isPause=true;
						}
					});
				}
				//#WA 접근성 수정
				// focusEl.bind('keydown',function(e){// 접근성 탭이동
				// 	if( !e.shiftKey && e.keyCode == TABKEY_CODE){
				// 		//test
				// 		var n=$(this).index(focusElCls)+1
				// 		var nextEl;
				// 		var nextIdx;
				// 		//console.log("n: "+n+" length: "+focusEl.length+" nextIdx" + nextIdx);
				// 		if(n>(focusEl.length)-1) {
				// 			return;
				// 		}else{
				// 			e.preventDefault();
				// 			nextEl=$(focusElCls).eq(n);
				// 			if(isConSize){ nextIdx=Math.floor(nextEl.closest('li').index()/oneSlideLi);
				// 			}else { nextIdx=nextEl.closest('li').index();
				//
				// 			}
				// 			if(curIdx!=nextIdx) {
				// 				slideTo(nextIdx,true);
				// 			}
				// 			nextEl.focus();
				// 		}
				//
				// 	}else if( e.shiftKey && e.keyCode == TABKEY_CODE){
				// 		var n=$(this).index(focusElCls)-1;
				// 		var nextEl;
				// 		var nextIdx;
				// 		if(n<0) {
				// 			return;
				// 		}else{
				// 			e.preventDefault();
				// 			nextEl=$(focusElCls).eq(n);
				// 			if(isConSize) nextIdx=Math.floor(nextEl.closest('li').index()/oneSlideLi);
				// 			else nextIdx=nextEl.closest('li').index();
				//
				// 			if(curIdx!=nextIdx) {
				// 				slideTo(nextIdx,true);
				// 			}
				// 			nextEl.focus();
				// 		}
				// 	}
				// });


				/*
				btnNext.bind('keydown',function(e){// 접근성 탭이동
					if( !e.shiftKey && e.keyCode == TABKEY_CODE){
						e.preventDefault();
						slideTo(0,true);
						focusEl.eq(0).focus();
					}
				});

				btnNext.bind('keydown',function(e){// 접근성 탭이동
					if( e.shiftKey && e.keyCode == TABKEY_CODE){
						e.preventDefault();

						slideTo(liCnt-1,true);
						focusEl.eq(focusEl.length-1).focus();
					}
				});
				*/
				/*
				btnNext.bind('blur',function(e){// 접근성 탭이동
					e.preventDefault();
					focusEl.eq(1).find('button').focus();
				});
				*/

				// //////////////////////////////////////////////////
			});

		};

		commonJs.setSlideBox('div.slideBox,div.slideBox2'); // 슬라이드 초기화 실행

		// eventType2
		//product/TS3.1.html# 슬라이드 메뉴 설정
		$("div.slideArea").each(function()
		{

			var $this = $(this);
			if( !$this.hasClass('selectType' ))
			{
				var slidelist = $this.children('.slideList');
				var li = slidelist.children('ul').children('li');
				var total = 2;
				var viewW = 1000;

				// 페이지 하단에 이벤트 영역 배너
				if( $this.hasClass('event'))
				{
					total = (li.length / 2)-1;
					viewW = 980;
				}

				//카드선택 poc/myt/MY1.1.1a.1.3P.html
				if( $this.hasClass('selectCard')){
					total=(li.length)-1;
					viewW=li.outerWidth(true);
				}

				var slider = new SliderObject({
					'width' 		: viewW,
					'target' 		: slidelist,
					'total'			: total,
					'nextBtn'		: $(this).children('button.btnNext'),
					'prevBtn'		: $(this).children('button.btnPrev')
				});

				//paging
				var paging=$this.find('.paging');
				if(paging.length==1){
					var curP=paging.children('span:eq(0)').children('span');
					var totP=paging.children('span:eq(1)').children('span');
					totP.text(total+1);
					slider.bind( slider.event.CHANGE , function( evt , data ){
						curP.text(data.current+1);
						totP.text(data.total+1);
					});
				}
			}
		});

	}

	//상하 이동 슬라이드 //www/poc/product/TS5.1.html
	function setUpDownSlide(){
		$('div.slideUp').each(function(){
			var slideUp=$(this);
			var ul=slideUp.children('ul');
			var li=ul.children('li');
			var btnUp=slideUp.siblings('button.btnUp');
			var btnDown=slideUp.siblings('button.btnDown');
			var currentIdx=0;
			var liLen=li.length;
			var ulWidth;
			var ulHeight;
			var isMoving=false;
			var duration=300;

			if(ul.length!=1 || liLen<1) return;

			//init
			ulWidth=li.outerWidth();
			ulHeight=li.outerHeight();

			ul.css({
				"position":"relative",
				"overflow":"hidden",
				"width":ulWidth+"px",
				"height":ulHeight+"px"
			});
			li.css({
				"position":"absolute",
				"overflow":"hidden"
			});

			li.each(function(idx){
				if(idx==currentIdx) $(this).css({"left":"0px","top":"0px"});
				else $(this).css({"left":"0px","top":ulHeight+"px"});
			});

			var slideTo=function(destIdx,dir){//dir:U,D
				if(isMoving) return;
				var curEndTop;
				var desStartTop;
				if(dir=="U"){
					desStartTop=-ulHeight;
					curEndTop=ulHeight;
				}else if(dir=="D"){
					desStartTop=ulHeight;
					curEndTop=-ulHeight;
				}

				isMoving=true;

				li.eq(currentIdx).animate({'top':curEndTop+'px'},duration);
				li.eq(destIdx).css('top', desStartTop+'px').animate({'top':'0'},duration,function(){
					currentIdx=destIdx;
					isMoving=false;
				});
				// [20190213 TOS추가] 슬라이딩 배너가 돌아갈때, Xtractor에 expand 스크립트 송신
				xtractorCall(slideUl, curIdx, chkArray);
			};

			btnUp.bind('click',function(){
				var destIdx;
				if(currentIdx==0) destIdx=liLen-1;
				else destIdx=currentIdx-1;
				slideTo(destIdx,"U");
			});

			btnDown.bind('click',function(){
				var destIdx;
				if(currentIdx==(liLen-1)) destIdx=0;
				else destIdx=currentIdx+1;
				slideTo(destIdx,"D");
			});
			// 2018.11.01 로밍메인 뉴스 영역 접근성 수정 - 로밍에서 전달
			// 접근성 수정 181031
			li.find('a').keydown(function(e){
				var $focusEl = $(this).parent('li');
				var focusIdx = $focusEl.index()+1;
				var shiftIdx = focusIdx-2;
				var keyCode  = e.keyCode || e.which;
				if(keyCode == 9){
					if(e.shiftKey){
						if(shiftIdx < 0) shiftIdx = 0;
						li.eq(shiftIdx).css('top','0');
						li.eq(shiftIdx).prev('li').css('top','-25px');
						li.eq(shiftIdx).next('li').css('top','25px');
						if(focusIdx == 1) currentIdx = 0;
						else currentIdx = shiftIdx;
					}else{
						li.eq(focusIdx).css('top','0');
						li.eq(focusIdx).prev('li').css('top','-25px');
						li.eq(focusIdx).next('li').css('top','25px');
						if(focusIdx == liLen) currentIdx = liLen-1;
						else currentIdx = focusIdx;
					}
				}
			});
			btnUp.keydown(function(e){
				var setIdx;
				var keyCode  = e.keyCode || e.which;
				if(keyCode == 9 && !e.shiftKey){
					if(currentIdx!=0) li.eq(currentIdx-1).find('a').focus();
				}
			});
			btnDown.keydown(function(e){
				var keyCode  = e.keyCode || e.which;
				if(keyCode == 9){
					if(e.shiftKey){
						li.eq(currentIdx+1).find('a').focus();
					}
				}
			});
			// 접근성 수정 181031
		});
	}

	//www/poc/util/common/UT14.1P.1.html
	function setBrowserTabTglOn(){
		$("ul.browserChk a").bind("click",function(e){
			e.preventDefault();
			e.stopPropagation();

			var $this=$(this);

			$this.closest("ul.browserChk").find("li.on").removeClass("on");
			$this.closest("li").addClass("on");

			$("div.browserSet>div.br_con").hide();
			$($this.attr("href")).show();
		});
	}

	//www/poc/myt/
	function setMyt()
	{

		// MY1.2.4.5T.1.html
		//contentsSearch tax
		doc.find("div.conBox_center>div.payHistory>div.tax").each(function(e)
		{
			var list = $(this).find('li');
			list.children('a').bind('click' , function(evt)
			{
				list.removeClass('on');
				list.find('span.hidden').remove();
				var p =$(evt.target).parent();
				p.addClass('on');
				p.append('<span class="hidden">선택됨</span>');
			});
		});


		// 데이터선물 문자 SMS(문자메세지)보내기 박스 버튼 MY2.2.2.1T.2.html
		$("div.send_message>a").bind("click",function(e){
			//e.preventDefault();
			//e.stopPropagation();
			if($(this).hasClass("on")){
				$(this).removeClass("on");
				$(this).next("div.messageCont").hide();
			}else{
				$(this).addClass("on");
				$(this).next("div.messageCont").show();
			}
		});
		///////////////////////////////////////////////////////////////////////////

		// 하단 데이터 리필 부분 표시 MY2.2.1.1T.6.html
		content.find('.tipBox').children('a').bind('click' , function( e )
		{
			e.preventDefault();
			e.stopPropagation();

			var parent = $(e.target).parent();
			parent.toggleClass('on');
		});
		content.find('.tipBox>a>span').bind('click' , function( e )
		{
			e.preventDefault();
			e.stopPropagation();

			var parent = $(e.target).parent().parent();
			parent.toggleClass('on');
		});
		///////////////////////////////////////////////////////////////////////////

		// MY3.2.2.3.html 라디오 버튼 추가
		var radio =content.find('div.use_type>span.radio');
		radio.each(function(index)
		{
			var input = $(this).children('input');
			input.bind('click' , function( e )
			{
				//e.preventDefault();
				//e.stopPropagation();

				if(radio.hasClass('on')){
					radio.removeClass('on');
					radio.next().css('display','none');
				}

				var target =$(e.target).parent();
				if( !target.hasClass('on')){
					target.addClass('on');
					target.next().css('display','block');
				}
			});
		});

		//MY0.1.html

		// MY2.2.2.1T.1.html
		$("div.graphType2 input[type='radio']").bind("click",function(){//선물할 데이터량 선택
			var thisGraphType2=$(this).closest('div.graphType2');
			var wPoint=$(this).siblings("span.wPoint");
			//var percentage=$(this).index("input[type='radio']")*10+10;
			//var percentage=$(this).offset().left;
			var n = $(this).css('left');
			var percentage=Number(n.substr(0 , n.length-2));
			var txt=$(this).prev("label").find(".hidden").text();

			var rdoName=$(this).attr('name');
			var idx=$(this).index("input[name='"+rdoName+"']");
			var len=$("input[name='"+rdoName+"']").length;

			wPoint.css("left",(percentage+18)+'px');
			//wPoint.css("left",percentage+"%");
			if(idx==(len-1)) {
				thisGraphType2.find(".wAction").css("width","100%");
			}else {
				thisGraphType2.find(".wAction").css("width",percentage+20+'px');
			}
			wPoint.find("em").html('<span class="hidden">데이터량</span>'+txt.substr(0,txt.length-2)+'<span class="capacity">'+txt.substr(txt.length-2,2)+'</span>');
		});

		//나의혜택 페이지 상세 정보탭 스크립트//myt/MY1.1.5.html
		if($('.cubeResizeMenu').length>0){
			$('.cubeResizeMenu').data('focusObj',null);

			$('.cubeResizeMenu a.more').live('click',function(e){
				e.preventDefault();
				var p = $(this).closest('.cubeResizeMenu');

				var plistUl=p.children('ul');
				var plistli=plistUl.children('li:visible');
				var target=$(this).closest('li');
				var targetPop=target.find('.benefitCon');

				plistli.css('padding-bottom','0px');
				p.css('height','');

				var pHeight=p.outerHeight(true);

				var targetTop=target.offset().top+target.height()-plistUl.offset().top;
				var targetLeft=target.css('margin-left').replace('px','');

				/* #DEL #기존소스 삭제 레이어팝업위치관련
				targetPop.css({
					'top':targetTop+'px',
					'left':targetLeft+'px'
				});
				*/
				target.siblings('li').removeClass('on');
				target.toggleClass('on');
				$('body').css({'overflow-y':'hidden','z-index':'10000'});

				if(target.hasClass('on')){
					target.append('<div id="mask" style="display:block;z-index:10001;"></div>');
				}else{
					target.find('div').remove();
				}
				/* #기존소스 삭제 레이어팝업위치관련
				if(target.hasClass('on')){//열기
					var tempIdx=target.index();
					var tIndex=tempIdx;
					plistUl.children('li').each(function(i){
						if($(this).css('display')=="none") tIndex--;
						if(i==tempIdx) return false;
					});
					var first = commonJs.findFocusElements( target.children('div').eq(1) );
					first.eq(0).focus();
					p.data('focusObj',commonJs.closeTabkeyFocus( first ));
					//#myt개선
					doc.scrollTop( target.offset().top+200 );
					//doc.scrollTop( target.offset().top );
					p.css('height',(pHeight+targetPop.outerHeight(true))+'px');
					var r=tIndex%3;
					if(r==0){
						target.css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
						if(plistli.eq(tIndex+1).length>0) {
							plistli.eq(tIndex+1).css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
							if(plistli.eq(tIndex+2).length>0) {
								plistli.eq(tIndex+2).css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
							}
						}
					}else if(r==1){
						target.css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
						plistli.eq(tIndex-1).css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
						if(plistli.eq(tIndex+1).length>0) {
							plistli.eq(tIndex+1).css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
						}
					}else if(r==2){
						target.css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
						plistli.eq(tIndex-1).css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
						plistli.eq(tIndex-2).css('padding-bottom',(targetPop.outerHeight(true)-2)+'px');
					}

				}else{//닫기
					target.removeClass('on');
					commonJs.findFocusElements(target).eq(0).focus();
					p.data('focusObj').clear();
					plistli.css('padding-bottom','0px');``
					p.css('height','');
				}
				*/
			});

			$('.cubeResizeMenu>a.btnMore').live('click',function(e){
				var target=$(this).parent();
				target.css('height','');
				var sumH=0;
				target.children().each(function(){
					sumH+=$(this).outerHeight(true);
				});
				target.css('height',sumH+'px');
			});

			// plistli.find('a.close').bind('click',function(e){//닫기
			$('.cubeResizeMenu .benefitCon a.close').live('click',function(e){//닫기
				e.preventDefault();
				var target=$(this).closest('li');
				var p=target.closest('.cubeResizeMenu');
				target.removeClass('on');
				commonJs.findFocusElements(target).eq(0).focus();
				$('#mask').remove();
				$('body').removeAttr('style');
				//	$('body').css({'overflow-y':'auto','z-index':'auto'});
				//	p.data('focusObj').clear();
				//p.children('ul').children('li').css('padding-bottom','0px');
				//p.css('height','');
			});
		}
		///////////////////////////////////////////////////////////////////////////


		//MY2.2.5.3T.1.html
		var selectUl = content.find('.dataSelect>ul');
		selectUl.each(function(index)
		{
			var thisLi=$(this).children('li');

			thisLi.children('a').bind('click' , function( e )
			{
				var str = $(this).children('em').text();
				if( str.length )
				{
					content.find('.wContBox .chTxt').html( str );
				}

				e.preventDefault();
				e.stopPropagation();
				thisLi.removeClass('on');
				$(this).parent().addClass('on');
			});
		});

		var slideLi =  content.find('.slideCon>ul>li>a');
		slideLi.each(function(index)
		{
			$(this).bind('click' , function( e )
			{
				e.preventDefault();
				e.stopPropagation();
				slideLi.removeClass('on');
				$(this).addClass('on');
			});
		});
		///////////////////////////////////////////////////////////////////////////
		//MY2.2.4.2T.2T.1.html
		///////////////////////////////////////////////////////////////////////////

		//MY3.5.2.1.1.html  접근성 이슈로 <span>태그에 선택이란 문구가 추가 되도록 작업
		var itemList =  content.find('.conBox_center>.billCon>.chgTab>.tabMulti2>ul>li');
		itemList.each(function( idx )
		{
			// 191011 [OP002-4495] 웹접근성 수정 START
			var a = $(this).children('div').children('a');
			a.attr('title', $(this).hasClass('on')? '선택 됨' : '');
			a.bind('click',function( e )
			{
				e.preventDefault();
				var p = a.parent('div');
				p.parent('li').addClass('on').siblings().removeClass('on');
				itemList.children('div').children('a').attr('title', '');
				$(this).attr('title', '선택 됨');
			});
			// 191011 [OP002-4495] 웹접근성 수정 END
		});
		///////////////////////////////////////////////////////////////////////////

		//MY4.1.2.1.html missStopList>li 버튼 개수 확인
		$("ul.missStopList>li").each(function(){
			var btnDiv=$(this).find("div.btn");
			if(btnDiv.children("a").length==2){
				btnDiv.addClass("btn2");
			}
		});
		///////////////////////////////////////////////////////////////////////////

		//열기/닫기 //MY1.1.1.1.html, MY1.1.1.2.html, MY1.2.4.1T.1.html
		if($('.myt_product1').not('.sub').length>0){
			var initMytProduct1=function(target){
				var myt_product1=$('.myt_product1:not(".sub")');
				var allLi=myt_product1.find('ul.lineInfo>li').not('ul.sub>li');
				var allLineType_info=myt_product1.find('.lineType_info').not('.sub');
				var prd1_module=myt_product1.find('dl.module').not('.sub');

				myt_product1.find('.addType2.tglClsOpen').removeClass('open');
				allLi.removeClass('on').find('> a').attr('title', '열기'); // 2019.02.28 웹접근성 수정
				allLineType_info.removeClass('open');
				prd1_module.removeClass('on').find('> a').attr('title', '열기'); // 2019.02.28 웹접근성 수정
			};
			var htmlAndBody=$('html, body');
			//[#5223] [myT] 크롬 와이파이계정 가입정보 회선펼치기 무동작 (요건추가)
			$('.myt_product1:not(".sub") ul.lineInfo>li:not("ul.sub>li")>a').die().live('click',function(e){
				//#myt개선
				if( $(this).parents('.myt_product1').hasClass('ui_myt') ){
					return false;
				}
				e.preventDefault();
				var thisLi=$(this).parent('li');
				if(thisLi.hasClass('on')){
					thisLi.removeClass('on');
					thisLi.find('>a').attr('title', '열기'); // 2018.10.17 [#6927] '[myT] 나의 가입정보 내 수정사항' - PC 화면 title 속성 텍스트 추가
					//#myt개선
					//사용중인 상품서비스 일때 체크포인트 열리게
					var _dl = $(this).parents('dl.lineType_info');
					if(document.title.indexOf('< 사용중인 상품서비스 < 기본정보 < 조회 < my T | T world')!=-1){
						return true;
					}
					if(_dl.hasClass('open')){
						_dl.removeClass('open');
					}

				}else{
					initMytProduct1($(this));
					thisLi.addClass('on');
					thisLi.find('>a').attr('title', '닫기'); // 2018.10.17 [#6927] '[myT] 나의 가입정보 내 수정사항' - PC 화면 title 속성 텍스트 추가
					thisLi.closest('.myt_product1:not(".sub")').find('.lineType_info:not(".sub")').addClass('open');
					window.$(this).trigger('openTab'); //cmnJquery
					//#myT>조회>기본정보>나의 가입정보 *자동스크롤 제거
					//htmlAndBody.stop().animate({scrollTop : thisLi.offset().top-$('#header').outerHeight(true)}, 200);
				}
			});

			$('.myt_product1:not(".sub") ul.lineInfo>li:not("ul.sub>li") a.btn_close:not(".sub")').live('click',function(e){//li 내부 하단 닫기 버튼
				e.preventDefault();
				$(this).closest('li.on').not('.sub').removeClass('on');
				htmlAndBody.stop().animate({scrollTop : $(this).closest('.myt_product1').not('.sub').offset().top-$('#header').outerHeight(true)}, 200);
			});

			$('.myt_product1:not(".sub") a.btn_close_top:not(".sub")').live('click',function(e){//최상단 닫기 버튼
				e.preventDefault();
				initMytProduct1($(this));
			});

			$('.myt_product1:not(".sub") .b_con>a.btn_close:not(".sub")').live('click',function(e){//CHECK POINT 전체 닫기
				e.preventDefault();
				initMytProduct1($(this));
				$('html, body').animate({scrollTop : $(this).closest('.myt_product1').not('.sub').offset().top-$('#header').outerHeight(true)}, 200);
			});

			$('.myt_product1:not(".sub") dl.module:not(".sub")>dt>a').live('click',function(e){
				e.preventDefault();
				var target=$(this).closest('.module');

				if(target.hasClass('on')){
					target.removeClass('on').find('> dt > a').attr('title', '열기'); // 2020.07.02 웹접근성 수정
				}else{
					target.closest('.myt_product1').not('.sub').removeClass('on');
					target.addClass('on').find('> dt > a').attr('title', '닫기'); // 2020.07.02 웹접근성 수정
					target.siblings('dl.module').removeClass('on').find('> dt > a').attr('title', '열기'); // 2020.07.02 웹접근성 수정
					window.$(this).trigger('openTab'); //cmnJquery
				}
				$('html, body').animate({scrollTop : target.offset().top-$('#header').outerHeight(true)}, 200);
			});

			$('.myt_product1:not(".sub") dl.module:not(".sub") a.btn_close_module').live('click',function(e){
				e.preventDefault();
				$(this).closest('.module').removeClass('on');
				$('html, body').animate({scrollTop : target.offset().top-$('#header').outerHeight(true)}, 200);
			});
		}
		///////////////////////////////////////////////////////////////////////////

		//.sub 열기/닫기 //MY1.2.1.1T.html
		$('.childFee ul.lineInfo.sub>li>a').live('click',function(e){
			e.preventDefault();
			var lineType_info=$(this).closest('.childFee').find('.lineType_info.sub');
			var thisLi=$(this).parent('li');

			if(thisLi.hasClass('on')){
				thisLi.removeClass('on').find('> a').attr('title', '열기'); // 2021.06.17 웹접근성 수정
			}else{
				//initChildFee
				$('.childFee ul.lineInfo.sub>li').removeClass('on').find('> a').attr('title', '열기'); // 2021.06.17 웹접근성 수정
				$('.childFee .lineType_info.sub').removeClass('open');
				//
				thisLi.addClass('on').find('> a').attr('title', '닫기'); // 2021.06.17 웹접근성 수정
				lineType_info.addClass('open');
				$('html, body').stop().animate({scrollTop : thisLi.offset().top-$('#header').outerHeight(true)}, 200);
			}
		});

		$('.childFee ul.lineInfo.sub>li a.btn_close.sub').live('click',function(e){//li 내부 하단 닫기 버튼
			e.preventDefault();
			$(this).closest('li.on').filter('ul.sub>li').removeClass('on');
			$('html, body').stop().animate({scrollTop : $(this).closest('.childFee').offset().top-$('#header').outerHeight(true)}, 200);
		});

		$('.childFee a.btn_close_top.sub').bind('click',function(e){//최상단 닫기 버튼
			e.preventDefault();
			//initChildFee
			$('.childFee ul.lineInfo.sub>li').removeClass('on');
			$('.childFee .lineType_info.sub').removeClass('open');
			//
		});

		$('.childFee .b_con>a.btn_close.sub').bind('click',function(e){//CHECK POINT 전체 닫기
			e.preventDefault();
			//initChildFee
			$('.childFee ul.lineInfo.sub>li').removeClass('on');
			$('.childFee .lineType_info.sub').removeClass('open');
			//
			$('html, body').animate({scrollTop : $(this).closest('.childFee').offset().top-$('#header').outerHeight(true)}, 200);
		});
		///////////////////////////////////////////////////////////////////////////

		//열기 닫기 residualCall //MY1.2.2.1.html#
		var residualCall=$('.residualCall');
		residualCall.each(function(){
			var target=$(this);
			target.find('.residualTit>a').bind('click',function(){
				var gnbH = $("#header").height(); //#myT WA
				if(target.hasClass('open')){
					target.removeClass('open');
					$(this).attr('title', '열기'); // 2019.03.26 웹접근성 수정
				}else{
					residualCall.removeClass('open').find('.residualTit>a').attr('title', '열기'); // 2019.03.26 웹접근성 수정
					target.addClass('open');
					$('html, body').animate({scrollTop : $(this).closest('.residualCall').offset().top - gnbH}, 200);
					$(this).attr('title', '닫기'); // 2019.03.26 웹접근성 수정
				}
			});
			target.find('a.btn_close').bind('click',function(){
				target.removeClass('open');
				target.find('.residualTit>a').attr('title', '열기').focus(); // 2019.03.26 웹접근성 수정
				$('html, body').animate({scrollTop : $(this).closest('.residualCall').offset().top - gnbH}, 200);
			});
		});
		///////////////////////////////////////////////////////////////////////////

		//열기 닫기 memeberSbox //membership_search.html
		var memeberSbox=$('.memeberSbox');
		memeberSbox.each(function(){
			var target=$(this);
			target.find('>dl>dt>a').bind('click',function(){ // 2020.07.27 웹접근성 수정
				var gnbH = $("#header").height(); //#myT WA
				if(target.hasClass('open')){
					target.removeClass('open');
					$(this).attr('title', '열기'); // 190918 2019 웹접근성 심사 수정
				}else{
					memeberSbox.removeClass('open');
					memeberSbox.find('>dl>dt>a').attr('title', '열기'); // 2020.07.27 웹접근성 수정
					target.addClass('open');
					$(this).attr('title', '닫기'); // 190918 2019 웹접근성 심사 수정
					$('html, body').animate({scrollTop : $(this).closest('.memeberSbox').offset().top - gnbH}, 200);
				}
			});
			target.find('a.btn_close').bind('click',function(){
				target.removeClass('open');
				target.find('>dl>dt>a').attr('title', '열기'); // 2020.07.27 웹접근성 수정
				$('html, body').animate({scrollTop : $(this).closest('.memeberSbox').offset().top - gnbH}, 200);
			});

			target.find('>dl>dt>a').attr('title', target.hasClass('open') ? '닫기' : '열기'); // 2020.07.27 웹접근성 수정
		});
		///////////////////////////////////////////////////////////////////////////

		//열기 닫기 //MY1.2.3.1T.1.html
		$('.charge_info>dl.module>dt>a').live('click',function(e){
			e.preventDefault();
			var target=$(this).closest('.module');
			if(target.hasClass('open')){
				target.removeClass('open');
			}else{
				target.siblings('dl.module').removeClass('open');
				target.addClass('open');
			}
			$('html, body').animate({scrollTop : target.offset().top}, 200);

		});

		$('.charge_info>dl.module>dd.detail>a.btn_close_module').live('click',function(e){
			e.preventDefault();
			var target=$(this).closest('.charge_info').find('.module');
			target.removeClass('open');
			target.removeClass('on');
			$('html, body').animate({scrollTop : $(this).closest('.module').offset().top}, 200);
		});

		$('.charge_info>dl.module dl.module>dt>a').live('click',function(e){
			e.preventDefault();
			var target=$(this).closest('.module');
			if(target.hasClass('on')){
				target.removeClass('on');
			}else{
				target.siblings('dl.module').removeClass('on');
				target.addClass('on');
			}
			$('html, body').animate({scrollTop : target.parent().closest('.module').offset().top}, 200);
		});

		$('.charge_info>dl.module dl.module>dd.dDetail>a.btn_close_module').live('click',function(e){
			e.preventDefault();
			var target=$(this).closest('.module');
			target.removeClass('on');
			$('html, body').animate({scrollTop : target.parent().closest('.module').offset().top}, 200);
		});
		///////////////////////////////////////////////////////////////////////////

		//납부내역 기간선택//poc/myt/MY1.2.4.5T.1.html
		$('div.contentsSearch.tax').each(function(){
			var tarLi=$(this).find('ul.dateSel>li');
			var tarA=tarLi.children('a');
			tarA.bind('click',function(e){
				e.preventDefault();
				tarLi.removeClass('on');
				$(this).parent().addClass('on');
			});
		});
		///////////////////////////////////////////////////////////////////////////

	}


	// 탭을 제어할시에 tabJs 클래스가 들어오면 작동을 하게 한다.
	//
	function setTabJs()
	{
		$('.tabJs li>a').live('click',function(e){
			var thisTabJs=$(this).closest('.tabJs');
			//thisTabJs.data('objArr',new Array());

			//var p = $(this).children('li'); // 바로 아래가 li가 아닌경우도 잡아 내기 위해 변경
			var p = thisTabJs.find('li');
			var t = $(this).parent('li');

			if(t.closest('.s_con').length>0&&t.closest('.s_con').closest('.cs_list1.tabJs').length>0) {
				//tabJs하위 a태그 열외 //poc/center/CS.html#
				return true;
			}

			if(thisTabJs.data('objArr')==undefined) {
				var tmpObjArr=new Array();

				p.each(function(index){
					tmpObjArr.push( $(this).children('a').attr('href') );
				});

				thisTabJs.data('objArr', tmpObjArr);
			}

			var objArr = thisTabJs.data('objArr');

			var i = t.index();

			e.preventDefault();
			// e.stopPropagation();

			// 190712 2019웹접근성 수정 START 
			p.removeClass('on').find('a:not(.a11y-notit)').attr('title', ''); // 2018.10.01 [#6973] [고객센터] 온라인 상담/문의 다이렉트샵 문의유형 분리
			t.addClass('on').find('a:not(.a11y-notit)').attr('title', '선택됨'); // 2018.10.01 [#6973] [고객센터] 온라인 상담/문의 다이렉트샵 문의유형 분리
			// 190712 2019웹접근성 수정 END

			$.each( objArr, function(index, value)
			{
				if(value!='#'&&value!='') {
					$(value).css('display','none');
				}
			});
			if(objArr[i]=='#tabAll'){
				// product/TS2a.3.1T.html tabjs 추가
				if( $(e.target).closest('.pkgTab').length>0 ){
					doc.find('.pkgTabCon').addClass('pkgAll');
				}

				$.each( objArr, function(index, value)
				{
					if(index!=i&&value!='#'&&value!='') doc.find(value).css('display','block');
				});
			}else{
				// product/TS2a.3.1T.html tabjs 추가
				if( $(e.target).closest('.pkgTab').length>0 ){
					doc.find('.pkgTabCon').removeClass('pkgAll');
				}

				if(objArr[i]!='#'&&objArr[i]!='') doc.find(objArr[i]).css('display','block');
			}

		});
	}


	//탭 열고 닫기('open' 클래스 추가/제거 버튼) // CS3.2.1T.html // MY3.5.1.html
	function setTglClsOpen(){
		$(".tglClsOpen").each(function(){
			var target=$(this);

			target.find('a.title').each(function(){
				var clsOpen=$(this).closest('.tglClsOpen');
				if(clsOpen.hasClass('open')) $(this).attr('title','선택');
				else $(this).attr('title','');
			});

			if(target.find('a.close').length>0){
				target.find('a.title').bind("click",function(e){
					e.preventDefault();
					$(this).closest('.tglClsOpen').addClass("open");
					$(this).attr('title','선택');
				});
				target.find('a.close').bind("click",function(e){
					e.preventDefault();
					var clsOpen=$(this).closest('.tglClsOpen');
					clsOpen.removeClass("open");
					clsOpen.find('a.title').attr('title','');
				});
			}else if(target.find('a.title').length>0){
				target.find('a.title').bind("click",function(e){
					e.preventDefault();
					var clsOpen=$(this).closest('.tglClsOpen');
					if(clsOpen.hasClass('open')){
						clsOpen.removeClass('open');
						clsOpen.find('a.title').attr('title','');
					}else{
						clsOpen.addClass('open');
						clsOpen.find('a.title').attr('title','선택');
					}
				});
			}else if(target.find('a.chkClose').length>0){//MY2.1.3.1.3.1.html
				target.find('input.chkTitle').bind("click",function(e){
					e.preventDefault();
					if($(this).is(':checked')){
						$(this).closest('.tglClsOpen').addClass("open");
					}
				});

				target.find('a.chkClose').bind("click",function(e){
					e.preventDefault();
					$(this).closest('.tglClsOpen').removeClass("open");
				});
			}else if(target.find('input.chkTitle').length>0){//MY2.1.3.1.3.1.html
				target.find('input.chkTitle').bind("click",function(e){
					e.preventDefault();
					$(this).closest('.tglClsOpen').toggleClass("open");
				});
			}else if(target.find('a.tglBtn').length>0){
				/**
				 target.find('a.tglBtn').bind("click",function(e){
					e.preventDefault();
					$(this).closest('.tglClsOpen').toggleClass("open");
				});
				 **/
			}
		});
		// MY0.1.html 동적 부분일것 같아서 같이 적용 하며 div 삭제
		// myt/MY1.2.1.1T.html 개발쪽의 동적 처리 부문
		// 190712 2019웹접근성 수정 START
		$('.tglClsOpen a.tglBtn').each(function(){// 초기화
			var clsOpen=$(this).closest('.tglClsOpen'),
				closeTitle = $(this).data('type') === 'add' ? '해제' : '닫기',
				openTitle = $(this).data('type') === 'add' ? '추가' : '열기';
			if(clsOpen.hasClass('open')) $(this).attr('title', closeTitle); // 2018.09.03 [#6998] [myT] 웹접근성 인증마크 갱신을 위한 수정 (오류수정)
			else $(this).attr('title', openTitle); // 2018.09.03 [#6998] [myT] 웹접근성 인증마크 갱신을 위한 수정 (오류수정)
		});
		$('.tglClsOpen a.tglBtn').live('click' , function(e)
		{
			e.preventDefault();
			var clsOpen=$(this).closest('.tglClsOpen'),
				closeTitle = $(this).data('type') === 'add' ? '해제' : '닫기',
				openTitle = $(this).data('type') === 'add' ? '추가' : '열기';
			clsOpen.toggleClass("open");
			if(clsOpen.hasClass('open')) $(this).attr('title', closeTitle); // [#6998] [myT] 웹접근성 인증마크 갱신을 위한 수정 (오류수정)
			else $(this).attr('title', openTitle); // 2018.09.03 [#6998] [myT] 웹접근성 인증마크 갱신을 위한 수정 (오류수정)

		});
		// 190712 2019웹접근성 수정 END
	}

	//ul>li>a li toggle 'on' //www/poc/myt/MY1.2.5.1T.html#
	function setUlLi_TglOn(){
		var hSpan="<span class='hidden'>선택</span>";

		$("ul.tglOn").each(function(){
			var target=$(this);
			var li=target.children('li');

			target.children('li.on').append(hSpan);
			target.find('li>a').bind('click',function(e){
				//e.preventDefault();
				var thisLi=$(this).parent('li');
				li.removeClass('on');
				thisLi.addClass('on');
				li.children('span').remove();
				thisLi.append(hSpan);
			});
		});
	}


	//구비서류 안내 CS3.3.1T.html
	commonJs.setHeight_groupList=function(){
		var mHeight=0;
		var li=$('div.groupBox>.groupList>.clearfix>li');
		li.each(function(){
			var h=$(this).height();
			if(mHeight<h) mHeight=h;
		});
		li.css('height',mHeight+'px');
	};

	//www/poc/center/
	function setCenter()
	{
		doc.find('div.faqGuide_list').each(function( idx )
		{
			var _this = $(this);
			var movie = _this.find('div.f_list>ul');
			var f_list = movie.children('li');
			var f_list_con = f_list.find('.list_con>ul');

			f_list.find('.list_con').css('height','945px');
			//f_list_con.css({'display':'none','height':'522'});
			var width = f_list.width();
			var n = 0;
			var total = f_list.size()-1;
			//f_list_con.css('display','none');

			_this.find('.conBox_center>button').bind('click' , function( evt )
			{
				if( $(evt.target).hasClass('btnPrev') ){
					if(n==0){
						return;
					}
					n-=1;
				}else{
					if(n == total){
						return;
					}
					n+=1;
				}
				if( n < 0){
					n = 0;
				}
				if( n+1 > total){
					n = total;
				}

				movie.children('li').eq(n).children('div.list_con').css('display','none');
				if( !movie.is(':animated') ){
					movie.animate({ 'margin-left':  -(n*width)+'px' },200 , end);
					relocation( n );
				}


			});
			function end()
			{

			}
			// start
			var list = f_list.eq(0).find('div.list_con>ul>li');
			var pos6 = [ {'left':'0px' , 'top' : '310px' } , {'left':'395px' , 'top' : '310px' },{'left':'790px' , 'top' : '310px' },  {'left':'0px' , 'top' : '767px' } ,{'left':'395px' , 'top' : '767px'} ,{'left':'790px' , 'top' : '767px'}];
			var pos5 = [ {'left':'0px' , 'top' : '310px' } , {'left':'395px' , 'top' : '310px' },{'left':'790px' , 'top' : '310px' },  {'left':'197px' , 'top' : '767px' } ,{'left':'592px' , 'top' : '767px'}];
			var pos4 = [ {'left':'0px' , 'top' : '310px' } , {'left':'395px' , 'top' : '310px' },{'left':'790px' , 'top' : '310px' },  {'left':'395px' , 'top' : '767px' }];

			function chObj( id )
			{
				var tarr = pos6;
				//
				switch( id )
				{
					case 5:
						tarr = pos5;
						break;
					case 4:
						tarr = pos4;
						break;
				}
				return tarr;
			};

			//f_list
			for(  var i = 0; i<f_list.size(); i++)
			{
				var a = f_list.eq(i).find('div.list_con>ul>li');
				var obj = chObj( a.size() );

				for(var j = 0; j<a.size(); j++ )
				{
					var b = a.eq(j);
					var tobj = obj[j];
					b.css(tobj);
					b.css( {'top': Number( tobj.top.replace('px',''))+800, 'position':'absolute'});
				}
			}

			relocation( 0 );
			function relocation( id )
			{
				f_list.eq(id).find('div.list_con').css('display','block');
				var tl = f_list.eq(id).find('div.list_con>ul>li');

				var obj = chObj( tl.size() );

				for( var i = 0; i< tl.length; i++)
				{
					var a = tl.eq(i);
					var tobj = obj[i];
					var n = i%3;;
					var top = (Number(a.css('top').replace('px',''))+800)+'px';
					a.css( 'top', top );
					a.delay( n * 100 ).animate({ 'top': tobj.top },1000);
				}


			}



		});

		// FAQ 자주찾는질문 카테고리 설정 //CS2.1.1T.html
		var centerTable=$("div.centerTable, div.centerTable2");
		if(centerTable.length>0){
			var selectedCtgr=$("div.selectedCtgr");
			var rExp=/#ctgrDepth?/;
			var srchBtn=$('.btnBox');
			var isFinished=false;
			selectedCtgr.hide();
			centerTable.hide();
			centerTable.eq(0).show();
			srchBtn.hide();

			$('a.btnMore').bind('click',function(e){
				e.preventDefault();
				$(this).hide();
				$('a.btnClose').show();
				$('.centerTable2').eq(0).show();
				$('.centerTable2').eq(0).find('a').eq(0).focus();
			});

			$('a.btnClose').bind('click',function(e){
				e.preventDefault();
				$(this).hide();
				$('a.btnMore').show().focus(); //#myT WA
				$('.centerTable2').eq(0).hide();
			});

			srchBtn.find('.btnBlack').bind('click',function(e){
				e.preventDefault();

				centerTable.hide();
				srchBtn.hide();
				isFinished=false;

				centerTable.eq(0).show();
				selectedCtgr.hide();
				$('a.btnMore').show();
				selectedCtgr.html("<span>선택하신 카테고리</span>");
			});

			//숫자 img _on _off
			centerTable.find('li').bind('mouseenter',function(){
				var target=$(this).find('img');
				var imgSrc=target.attr('src');
				if(imgSrc) target.attr('src',imgSrc.replace('_off','_on'));
			}).bind('mouseleave',function(){
				var target=$(this).find('img');
				var imgSrc=target.attr('src');
				if(imgSrc) target.attr('src',imgSrc.replace('_on','_off'));
			});
			////////////////////////////////////////////////////////

			centerTable.find('a').bind('click',function(e){
				e.preventDefault();

				var sltHref=$(this).attr("href");
				var sltCtgrName=$(this).text();

				if(rExp.test(sltHref)){
					$('.centerTable2').eq(0).hide();
					var thisC_TB=$(this).closest("div.centerTable2");
					var hrefId="";
					srchBtn.hide();
					$("div.centerTable").hide();
					$('a.btnMore').hide();
					$('a.btnClose').hide();
					if(thisC_TB.length>0) {
						thisC_TB.hide();
						hrefId=thisC_TB[0].id;
					}
					$(sltHref).show();
					$(sltHref).find('a').eq(0).focus();

					if(isFinished){
						selectedCtgr.find('a:last').remove();
						var tmp=selectedCtgr.html();
						selectedCtgr.html(tmp.substring(0,tmp.lastIndexOf(" &gt; ")));
					}
					selectedCtgr.show();
					selectedCtgr.append(" &gt; <a href='#"+hrefId+"'>"+sltCtgrName+"</a>");
					isFinished=false;
				}else if(sltHref=="#selectedTab"){
					$('.centerTable2').eq(0).hide();
					var thisC_TB=$(this).closest("div.centerTable2");
					var hrefId="";

					hrefId=thisC_TB[0].id;

					if(isFinished){
						selectedCtgr.find('a:last').remove();
						var tmp=selectedCtgr.html();
						selectedCtgr.html(tmp.substring(0,tmp.lastIndexOf(" &gt; ")));
					}
					srchBtn.show();
					selectedCtgr.show();
					selectedCtgr.append(" &gt; <a href='#"+hrefId+"'>"+sltCtgrName+"</a>");
					isFinished=true;
				}
			});

			selectedCtgr.find('a').live('click',function(e){
				e.preventDefault();

				var addr=$(this).attr("href").split("#");
				var sltHref="#"+addr[addr.length-1];

				centerTable.hide();
				srchBtn.hide();
				isFinished=false;

				if(rExp.test(sltHref)){
					$(sltHref).show();
					var idx=$(this).index()-1;
					var len=selectedCtgr.find('a').length;
					for(var i=idx;i<len;i++){
						selectedCtgr.find('a:last').remove();
						var tmp=selectedCtgr.html();
						selectedCtgr.html(tmp.substring(0,tmp.lastIndexOf(" &gt; ")));
					}
					$(sltHref).find('a').eq(0).focus();
				}else{
					centerTable.eq(0).show();
					selectedCtgr.hide();
					$('a.btnMore').show();
					selectedCtgr.html("<span>선택하신 카테고리</span>");
					centerTable.eq(0).find('a').eq(0).focus();
				}

			});
		}
		///////////////////////////////////////////////////////////////////////////

		//대리점 연관키워드 가운데 정렬 www/poc/center/대리점.html
		$('div.keyWord').each(function(){
			var target=$(this);
			var targetSpan=target.find('span');
			var p=(Number(target.css("height").replace("px",""))-targetSpan.height())/2;
			if(p>1) targetSpan.css({
				"display":"inline-block",
				"padding-top":p+"px"
			});
		});
		///////////////////////////////////////////////////////////////////////////

		// CS3.1.6.1T.html , CS3.1.6.2T.html 핸드폰 형태의 메뉴 클릭시 좌측 컨텐츠 변경

		doc.find('div.conBoxType>div.conInfo>div.arsMenu').each(function( idx )
		{
			var menuButton = $(this).find('.menuButton>ol>li>a');
			var menuControl = $(this).find('div.menuControl>div.menuDetail');
			menuButton.each(function(idx)
			{;
				$(this).bind('click', function(evt)
				{
					if( menuButton.hasClass('on') ) menuButton.removeClass('on');
					$(this).addClass('on');
					evt.preventDefault();
					var id = $(this).attr('href');
					menuControl.css('display','none');
					menuControl.parent().children(id).css('display','block');
				});
			});
		});


		//구비서류 안내 CS3.3.1T.html
		if($('div.groupBox>.groupList>.clearfix>li').length>0){
			commonJs.setHeight_groupList();
		}
		///////////////////////////////////////////////////////////////////////////

		//ARS고객센터 문의량 급증 예상 캘린더 스크립트 //poc/center/CS.1T.html
		$('.cs_calendar').each(function(){
			var $this=$(this);
			var li=$this.find('.cal_con>ul>li');
			var liLen=li.length;

			$this.find('.btnPrev').bind('click',function(){
				var idx=li.filter('.on').index();
				var targetIdx=idx-1;
				if(targetIdx<0) return;
				else{
					li.eq(idx).removeClass('on');
					li.eq(targetIdx).addClass('on');
				}
			});

			$this.find('.btnNext').bind('click',function(){
				var idx=li.filter('.on').index();
				var targetIdx=idx+1;
				if(targetIdx>=liLen) return;
				else{
					li.eq(idx).removeClass('on');
					li.eq(targetIdx).addClass('on');
				}
			});
		});
		///////////////////////////////////////////////////////////////////////////


		//최신이용자 피해예방 정보 더보기 버튼//poc/html/center/CS6.1.1T.html#
		$('.linkList1More .btnMore').bind('click',function(e){
			e.preventDefault();
			$(this).closest('.linkList1More').addClass('on');

		});
	}

	//www/poc/util/
	function setUtil()
	{
		// UT10.8L.html 회선정보 변경
		doc.find('div.changeLine>div.title>.selectBox').each(function(index)
		{
			var paging , nowTxt , totalTxt , slider = null;

			doc.find('div.changeLine>div.con>.selectType').each(function(idx)
			{
				var area = $(this);
				var slidelist = area.children('.slideList');
				slider = new SliderObject({
					'width' : slidelist.width(),
					'target' : slidelist,
					'total'			: 2,
					'nextBtn'		: $(this).children('button.btnNext'),
					'prevBtn'		: $(this).children('button.btnPrev')
				});
				paging = area.children('div.paging');
				nowTxt = paging.children('span.now');
				totalTxt = paging.children('span').eq(1);
				var ulist = slidelist.children('ul');

				slider.bind( slider.event.CHANGE , function( evt , data )
				{
					ulist.filter(function()
					{
						var tm = $(this);
						if( tm.css('display') != 'none' )
						{
							tm.data('cn',data.current);
						}
					});
					viewTxt( data.current+1 ,data.total+1);
				});
			});

			function viewTxt( current , total)
			{
				nowTxt.text( current );
				totalTxt.text( total );
			}

			commonJs.selectBox.bind( commonJs.event.SELECTBOX_INIT , function()
			{
				var slide = doc.find('div.slideArea>.slideList');
				var ulist = slide.children('ul');

				window.$('.selectBox>div.select').bind('change.selectbox',function (e, param) //cmnJquery
				{
					ulist.css('display','none');
					var idx =param.index;
					var cul =ulist.eq(idx);
					cul.css('display','block');
					var list = cul.children('li');


					var tn = list.length;
					slider.setTotal( tn-1 );
					// 초기화
					//slider.setCurrent( 0 );
					//slider.moveTo(0);
					var cn = 0;
					if( cul.data('cn') != undefined ){
						cn = cul.data('cn');
					}

					slider.setCurrent( cn );
					viewTxt(  cn +1 ,tn);


				});
				slider.setTotal( ulist.eq(0).children('li').length-1 );
				viewTxt( 1 ,ulist.eq(0).children('li').length );
			});
		});

		//초고속인터넷 이용약관의 주요내용 설명서 www/poc/util/member_policy/UT2.1.2.1T.3T.1T.1P.html#term6
		/*2016.03.07 추가*/
		$('.termsInfo li').bind('click',function(e){
			$(this).addClass('on');
			$(this).siblings().removeClass('on');
		});
		///////////////////////////////////////////////////////////////////////////

		//통합검색 서브탭 및 검색어 탭 스크롤 처리//poc/util/common/UT1.3.1.html //poc/util/common/UT1.3.2.1.html
		var keywordPack=$("div.keywordPack");
		if(keywordPack.length>0){
			keywordPack.find('dl').addClass('on');

			var scrChk=true;
			var subTab=$("ul.tabType1>li>ul.subTab");
			var fn_scroll=function(){
				var headerH=$('#header').height();

				var scTop=$(window).scrollTop()+headerH;

				var tabType1=$("ul.tabType1");

				var tabCon=$('.tabCon');
				var searchTab=tabCon.children('.searchTab');
				var hChk=true;
				var kpHeight=keywordPack.outerHeight(true);
				var subTab=$("ul.tabType1>li.on>ul.subTab");
				var m=20;

				var conBoxT=keywordPack.closest('.conBox_center').offset().top;
				var startTop=searchTab.offset().top;
				var endTop=startTop+searchTab.outerHeight(true)-kpHeight;


				if(subTab.length>0) {
					m=(searchTab.offset().top-$("ul.tabType1").offset().top-80);
					endTop=searchTab.offset().top+searchTab.outerHeight(true)-m-kpHeight+subTab.outerHeight(true);//-subTab.outerHeight(true)
				}else {
					m=20;
				}

				if(scrChk&&(startTop-m)<=scTop){
					keywordPack.find('dl').removeClass('on');
					scrChk=false;
					fn_scroll();
					return;
				}else if(scTop<(startTop-m)){
					scrChk=true;
				}

				if(searchTab.height()<=kpHeight){
					searchTab.height(kpHeight);
					subTab.css({
						"top":"80px",
						"position":"absolute",
						"left":"",
						"z-index":"",
						"margin-left":"",
						"width":""
					});
					hChk=false;
				}else {
					searchTab.css('height','');
				}

				if(hChk&&(startTop-m)<=scTop&&scTop<=endTop){
					keywordPack.css({
						"top":headerH+m+"px",
						"position":"fixed",
						"left":(tabCon.outerWidth(true)+tabCon.offset().left-keywordPack.outerWidth(true))+"px"
					});


				}else if(!hChk||scTop<(startTop-m)){
					keywordPack.css({
						"top":startTop-conBoxT+"px",
						"position":"absolute",
						"left":"auto",
						"right":"0px"
					});
				}else if(scTop>endTop){
					keywordPack.css({
						"top":endTop-conBoxT+m+"px",
						"position":"absolute",
						"left":"auto",
						"right":"0px"
					});
				}

				if(subTab&&subTab.length>0&&hChk){
					var startTop_sub=tabType1.offset().top+80;

					if(startTop_sub<=scTop&&scTop<=endTop){
						subTab.css({
							"top":headerH+"px",
							"position":"fixed",
							"left": "50%",
							"z-index":"1000",
							"margin-left": "-590px",
							"width":"1180px"
						});
					}else if(scTop<startTop_sub){
						subTab.css({
							"top":"80px",
							"position":"absolute",
							"left":"",
							"z-index":"",
							"margin-left":"",
							"width":""
						});
					}else if(scTop>endTop){
						subTab.css({
							"top":endTop-tabType1.offset().top+"px",
							"position":"absolute",
							"left":"",
							"z-index":"1000",
							"margin-left":"",
							"width":""
						});
					}
				}
			};

			keywordPack.find('dl>dt>a').bind('click',function(e){
				e.preventDefault();
				var target=$(this).closest('dl');
				if(target.hasClass('on')){
					target.removeClass('on');
				}else{
					target.addClass('on');
				}
				fn_scroll();
			});

			$(window).bind('scroll',fn_scroll);
		}

		//사이트맵 검색 //poc/util/common/UT6.html - 삭제 및 전체메뉴 해당 화면으로 이동//사이트맵 검색 //poc/util/common/UT6.html
		$('div.sitemap').each(function(){
			var sitemap=$(this);
			var conWrap=sitemap.children('div.conBox_center');

			var bf='<em class="on">';
			var af='</em>';

			var init=function(){
				conWrap.find('em.on').each(function(){
					var target=$(this);
					var tmpTxt=target.text();
					target.after(tmpTxt);
					target.remove();
				});
			};

			var searchReplace=function(txt){
				var len=txt.length;
				var regGI=new RegExp(txt,"gi");
				conWrap.children('.siteDep1').find('a, strong').each(function(idx){
					var target=$(this);
					if(target.children().length>0) return true;
					var targetHtml=target.html().toString();
					var strTmp=targetHtml.match(regGI);

					if(strTmp!=null){
						target.html(targetHtml.replace(regGI,bf+af));
						var em=target.find('em.on');
						em.each(function(i){
							$(this).html(strTmp[i]);
						});
					}

				});
			};

			var isEmpty=true;
			var iptSearch=sitemap.find('.search2>input[type="text"]');
			iptSearch.val('검색어를 입력하세요.');
			iptSearch.bind('focusin',function(){
				if(isEmpty){
					iptSearch.val('').select(); // 2018.06.07 웹접근성 검수 수정 - ie에서 탭이동시 커서 껌벅임이 없어서 강제로 select 시켜준다.
					isEmpty=false;
				}
			});

			iptSearch.bind('focusout',function(){
				var chkVal=commonJs.trimLR(iptSearch.val());
				if(!isEmpty&&(!chkVal||chkVal=='')){
					iptSearch.val('검색어를 입력하세요.');
					isEmpty=true;
				}
			});

			var fn_search=function(){
				var searchStr=commonJs.trimLR(iptSearch.val());
				if(isEmpty||!searchStr) {
					init();
					return true;
				}
				init();
				searchReplace(replaceSCtoCode(iptSearch.val()));
			};

			iptSearch.bind('keyup',function(){
				fn_search();
			});

			sitemap.find('.search2>button').bind('click',fn_search);

			init();

			// 메뉴명 및 링크 설정
			sitemap.find('a[ucode]:not(.onlyNm)').each(function( idx )
			{
				var _this = $(this);
				var ucode = _this.attr('ucode');
				var url = window[ucode];
				if( url )
				{	try{
					var arr = url.split('$');
					if( arr[0] )
					{
						var t = String(arr[0].split('_'));
						_this.attr('href',"javascript:poclink('" +ucode+ "')");
						if(!_this.hasClass('onlyLink')){
							var n = window['n'+arr[0]];
							if(n){
								var ta = n.split('$');

								if(_this.hasClass('icomplete')) ta[1]+=' (*)'; // 메뉴명에  "(*)" 추가

								if( _this.find('img').length == 0){
									_this.html( ta[1] );
								}
							}
						}
					}
				}catch(e){
				}
				}
			});

			// 링크x 메뉴명 설정
			sitemap.find('[ucode].onlyNm').each(function( idx )
			{
				var _this = $(this);
				var ucode = _this.attr('ucode');
				var url = window[ucode];
				if( url )
				{
					try{
						var arr = url.split('$');
						if( arr[0] )
						{
							var t = String(arr[0].split('_'));

							var n = window['n'+arr[0]];
							if(n){
								var ta = n.split('$');
								if(_this.hasClass('incomplete')) ta[1]+=' (*)'; // 메뉴명에  "(*)" 추가

								if( _this.find('img').length == 0){
									_this.html( ta[1] );
								}
							}
						}
					}catch(e){
					}
				}
			});

		});

		function replaceSCtoCode(str){
			//html 치환
			var retVal=str.replace(/\&/gi,'&amp;');
			var arr=retVal.split('&amp;');// & 치환
			for(var i=0; i<arr.length;i++){// ; 치환
				arr[i]=arr[i].replace(/\;/gi,'&#59;');
			}
			retVal=arr.join('&amp;');

			retVal.replace(/\</gi,'&lt;').replace(/\>/gi,'&rt;');

			//정규식특수문자 치환 \ ^ . [ ] $ ( ) | * + ? { }
			retVal=retVal.replace(/\\/gi,'\\\\').replace(/\^/gi,'\\^').replace(/\./gi,'\\.').replace(/\[/gi,'\\[').replace(/\]/gi,'\\]').replace(/\$/gi,'\\$').replace(/\(/gi,'\\(').replace(/\)/gi,'\\)').replace(/\|/gi,'\\|').replace(/\*/gi,'\\*').replace(/\+/gi,'\\+').replace(/\?/gi,'\\?').replace(/\{/gi,'\\{').replace(/\}/gi,'\\}');
			return retVal;
		}
		///////////////////////////////////////////////////////////////////////////
	}

	//www/poc/tlive/
	function setTlive()
	{
		//진행중 이벤트 페이지 광고 바 이동 TL1.1.1.html
		var eventView=$("div.event_view");
		if(eventView.length>0){

			var leftCon=eventView.children(".left_con");
			var rightCon=eventView.children(".right_con");
			var evt_fltDiv=rightCon.children(".evt_floatingDiv");
			// gnb header 높이 변수추가
			//[#5086] [이벤트] 진행중인 이벤트 상세 플로팅 레이어 위치 조정 (오류수정)
			var fixedHeader=$('#header').height();

			rightCon.css("position","relative");
			evt_fltDiv.css("position","absolute");

			var leftConHeight=leftCon.height();
			var evt_fltDivHeight=evt_fltDiv.height();
			var startTop=leftCon.offset().top - fixedHeader -10; // gnb header높이 + 10px 여백으로 스크롤시작 Top값 높이변경
			var endTop=startTop+leftConHeight-evt_fltDivHeight;

			$(window).bind('scroll',function(){
				var scTop=$(this).scrollTop();
				if(startTop<=scTop&&scTop<=endTop){
					evt_fltDiv.css("top",scTop-startTop+"px");
				}else if(scTop<startTop){
					evt_fltDiv.css("top","0px");
				}else if(scTop>endTop){
					evt_fltDiv.css("top",endTop-startTop+"px");
				}
			});
		}
		///////////////////////////////////////////////////////////////////////////

		//자막 함께보기 //poc/tlive/TL2.1.1L.html
		$('.btn_script>a').live('click',function(e){
			var target=$(this).parent().siblings('.popCon').find('.inPop>.video_script');
			$(this).hide();
			$(this).siblings('a').show();
			if(target.css('display')=='none'){
				target.show();
			}else{
				target.hide();
			}
		});
		///////////////////////////////////////////////////////////////////////////
	}

	//www/poc/product/
	function setProduct()
	{
		// 요금상품 // product/TS1.1.1.html
		if($('div.prSrchResult').length>0){
			var data=$('div.prSrchResult .userData');
			if(data.length>0){
				data.before('<div id="userData_position_dummy" style="height:0px; width:0px; border: 0; margin: 0; padding: 0;"></div>');
				var dummy=$('#userData_position_dummy');
				var dfareList = data.children('.fareList');
				var cfareList = $('div.prSrchResult>.inner>.fareList');


				$(window).bind('scroll',function( e )
				{
					setTimeout(function () { // 2019.02.08 GNB 수정으로 인한 플로팅 수치 조정
						var headerH=$('#header > .header_con').height() - 2; // 2019.02.08 GNB 수정으로 인한 플로팅 수치 조정
						var userDataTop = dummy.offset().top;

						if(cfareList.height()<=data.height()+324){//리스트가 짧을 경우
							data.css('position','relative');
							data.css('top','0px');

							return;
						}

						// var start=userDataTop+Number(cfareList.css('margin-top').replace('px',''));
						var start=userDataTop-headerH;
						// if( start > doc.scrollTop() + dfareList.height() ){

						if( start > doc.scrollTop() ){
							data.css('position','relative');
							data.css('top','0px');
							// cfareList.css('margin-top','0px');
						}
						else if( start <= doc.scrollTop() ){
							data.css('position','fixed');
							data.css('top',headerH+'px');
							// cfareList.css('margin-top',(dfareList.height()+dfareList.prev().height())+'px');
						}

						if( (doc.scrollTop() - userDataTop) > (cfareList.height()-data.height()-headerH) )
						{
							data.css('position','absolute');
							data.css('top','0px');
						}

					}, 200);
				});
			}
			$('div.prSrchResult .fareList>ul>li input:checkbox').prop('check',false);
			$('div.prSrchResult .fareList>ul>li input:checkbox').parent().removeClass('checked');

			$('div.prSrchResult .fareList>ul>li input:checkbox').live('click', function(e){
				var thisChkBox=$(this);
				var li=thisChkBox.closest('li');

				var fareList=thisChkBox.closest('.fareList');
				var fLParent=fareList.parent();
				if(fLParent.hasClass('userData')){//로그인 사용자 정보 리스트
					var this_li=li.data('this_li');
					li.remove();

					var chkbox=this_li.find('input:checkbox');
					chkbox.click();
				}else{//일반 리스트
					var userDataUl=thisChkBox.closest('div.prSrchResult').find('.userData>.fareList>ul');

					if(userDataUl.length>0){
						if(userDataUl.find('li.compare').length>=3&& $("#"+$(this).attr("id")+"_ud").length<1){
							thisChkBox.attr('checked',false);
							thisChkBox.parent().removeClass('checked');
							alert('요금상품 비교는 최대 3개까지 가능합니다.');
						}else{
							var this_li=li.data('this_li');
							if(this_li){
								this_li.remove();
								li.data('this_li',null);
							}else{
								var liClone=li.clone();

								liClone.addClass('compare');
								var id=liClone.find('input:checkbox').attr("id")+"_ud";
								liClone.find('input:checkbox').attr("id",id);
								liClone.find('.checkbox>label').attr("for",id);
								liClone.data('this_li',li);
								li.data('this_li',liClone);
								userDataUl.append(liClone);
							}
						}

					}
				}
			});
		}

		//스크롤 하단 선택 요금상품 바 product_templete.html,TS5.2.7.1.html
		var floatingDiv=$('.pr_floatingDiv');
		var footerDiv=$('#footer');

		if(floatingDiv.length>0){
			// $('#content').append("<div id='pr_dummy'></div>");
			$('#footer').after("<div id='pr_dummy'></div>");
			var  dummy=$('#pr_dummy');
			dummy.hide();
			floatingDiv.show();//.pr_floatingDiv이 display:none을 block으로 변경
			// var selectBoxInitFlag=true;
			$(window).bind('scroll_pr_floatingDiv',function(e){
				var startTop;
				if($('.prContTab').length<1){
					startTop=$('.prContTop').offset().top;
				}else{
					startTop=$('.prContTab').offset().top;
				}

				var endTop;
				var h=0;
				if (typeof (window.innerWidth) == 'number') { //Chrome
					h = window.innerHeight;
				} else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) {
					h = document.documentElement.clientHeight;
				} else if (document.body && (document.body.clientWidth || document.body.clientHeight)) { //IE9
					h = document.body.clientHeight;
				}

				if(floatingDiv.css("position")=="relative"){
					endTop=floatingDiv.offset().top+floatingDiv.height()-h;
				}else{
					// endTop=footerDiv.offset().top+floatingDiv.height()-h;
					endTop=dummy.offset().top+floatingDiv.height()-h;
				}
				var curScTop=$(this).scrollTop();

				// if(startTop<=curScTop&&curScTop<=endTop){
				if(startTop<=curScTop){
					// floatingDiv.show();
					floatingDiv.css('margin-left','0px');//selectBox로 인해 show&hide 대체(show)
					floatingDiv.css('position','fixed');
					dummy.show();
					dummy.css('height',floatingDiv.height()+'px');

					// resetSelectBox();

				}else if(startTop>curScTop){
					// floatingDiv.hide();
					floatingDiv.css('margin-left','-10000px');//selectBox로 인해 show&hide 대체(hide)
					// dummy.hide();
				}else{
					// floatingDiv.show();
					floatingDiv.css('margin-left','0px');//selectBox로 인해 show&hide 대체(show)
					floatingDiv.css('position','relative');
					$('#pr_dummy').hide();

					// resetSelectBox();
				}
			});

			$(window).bind('scroll',function(){
				$(window).trigger('scroll_pr_floatingDiv');
			});

			floatingDiv.find('.morePrSearch>a.title').bind('click',function(e){
				e.preventDefault();
				$(window).trigger('scroll_pr_floatingDiv');
			});


		}
		///////////////////////////////////////////////////////////////////////////

		// //slideBox appSlide1 //TS5.2.html#
		$('.slideBox.appSlide1').each(function(){
			var slideBox=$(this);
			var wrapDiv=slideBox.find('.slideNavi>div');
			var ul=wrapDiv.children('ul');
			var li=ul.children('li');

			var btnPrev=slideBox.find("button.btnPrev");
			var btnNext=slideBox.find("button.btnNext");

			li.each(function(idx){
				if(idx>5) {
					$(this).hide();
				}
			});

			var w=ul.width();
			var h=ul.height();
			var lfW=li.eq(1).outerWidth(true);
			wrapDiv.css({
				"display":"inline-block",
				"position":"relative",
				"overflow":"hidden",
				"width":w+"px",
				"height":h+"px"
			});

			var n=parseInt(li.length/6);
			if(li.length%6!=0) n++;
			ul.css({
				"position":"absolute",
				"top":"0px",
				"left":"0px",
				"width":(w*n+54*(n-1))+"px",
				"height":h+"px"
			});

			btnPrev.bind("prev_slide_evt",function(e){
				if(((ul.find('li.on').index()))%6==0){
					var lf=Number(ul.css("left").replace("px",""))+lfW*6;
					ul.css("left",lf+"px");
				}
			});

			btnNext.bind("next_slide_evt",function(e){
				if((ul.find('li.on').index()+1)%6==0){
					var lf=Number(ul.css("left").replace("px",""))-lfW*6;
					ul.css("left",lf+"px");
				}
			});
			li.show();


			if(li.length>6){
				//앱 텝이동 스크립트
				var focusLi=commonJs.findFocusElements(li);
				$('.slideBox button.btnNext').eq(0).bind('keydown',function(e){
					if( !e.shiftKey && e.keyCode == TABKEY_CODE){
						ul.css("left","0px");
					};
				});
				focusLi.bind('keydown',function(e){
					if( !e.shiftKey && e.keyCode == TABKEY_CODE){
						var n=Math.ceil(($(this).closest('li').index()+2)/6)-1;
						if(n<1) ul.css("left","0px");
						else ul.css("left",-n*lfW*6+"px");
					}else if( e.shiftKey && e.keyCode == TABKEY_CODE){
						var n=Math.ceil(($(this).closest('li').index())/6)-1;
						if(n<1) ul.css("left","0px");
						else ul.css("left",-n*lfW*6+"px");
					}
				});

				btnPrev.bind('keydown',function(e){
					if( e.shiftKey && e.keyCode == TABKEY_CODE){
						var n=Math.ceil(li.length/6)-1;
						ul.css("left",-n*lfW*6+"px");
					};
				});

				slideBox.find(".slideNavi").bind('slide_on_evt',function(){
					var n=Math.ceil((ul.find('li.on').index()+1)/6)-1;
					if(n<1) ul.css("left","0px");
					else ul.css("left",-n*lfW*6+"px");
				});
			}

		});
		// ///////////////////////////////////////////////////////////////////////////
	}

	//www/poc/guide/
	function setGuide(){
		//CHECK POINT 목록 더보기 버튼 //layout_common.html
		$('.b_checkPoint>.b_cp .fLeft>a.moreBtn').live('click',function(e){
			e.preventDefault();
			var checkPoint=$(this).closest('.b_cp');
			var hiddenLi=checkPoint.find('ul.b_cpList>li:gt(4)');

			if(checkPoint.hasClass('open')){
				checkPoint.removeClass('open');
				$(this).children('span').text('더보기');
				hiddenLi.hide();
			}else{
				checkPoint.addClass('open');
				$(this).children('span').text('닫기');
				hiddenLi.show();
				hiddenLi.eq(0).children('a').focus();
			}
		});
		/////////////////////////////////////////////////////////////////

		// /guide/layout_product.html
		doc.find('div.basicProvide_tab>ul.tabJs').each(function(index)
		{
			var h = $(this).height();
			$(this).children('li').css('height',h+'px');
		});

		///////////////////////////////////////////////////////////////////////////
	}

	commonJs.setHeight_changeCont=function(){
		//유형선택 사용중인/변경 요극상품 화면 높이 조절 스크립트//PJ1.1.1.html //poc/product/TS1.1.2.8.html
		var chgCon=$('.changeProduct>.changeCont');
		chgCon.each(function(){
			var leftDiv=$(this).find('.fLeft>.division');
			var rightDiv=$(this).find('.fRight>.division');
			var len=leftDiv.length;

			for(var i=0;i<len;i++){//높이값 초기화
				rightDiv.eq(i).css('height','');
				leftDiv.eq(i).css('height','');
			}

			for(var i=0;i<len;i++){
				if(leftDiv.eq(i).height()>rightDiv.eq(i).height()){
					rightDiv.eq(i).css('height',leftDiv.eq(i).height()+'px');
				}else{
					leftDiv.eq(i).css('height',rightDiv.eq(i).height()+'px');
				}
			}

		});
		///////////////////////////////////////////////////////////////////////////
	};

	//www/poc/purchase/
	function setPurchase(){
		commonJs.setHeight_changeCont();

		//켜기/끄기 텍스트 토글 www/poc/purchase/PJ2.2.1.2P.html#
		$('.btnSafe').each(function(){
			$(this).bind('click',function(e){
				e.preventDefault();
				var target=$(this).find('span');
				if($(this).hasClass("on")){
					target.text(target.text().replace(" 켜기"," 끄기"));
				}else{
					target.text(target.text().replace(" 끄기"," 켜기"));

				}
			});
		});
		///////////////////////////////////////////////////////////////////////////
	}

	function setCommon()
	{
		//말풍선 click버전 div.qInfo
		// tapkey keyCode == 9 이며 탭키로 이동시에만 제어 되도록 한다.
		//

		$('.qInfo a.qTit').live('click',function(e){
			e.preventDefault();
			var qInfo=$('.qInfo');
			var $this=$(this).closest('.qInfo');
			var qIdx = $this.closest('.qIdx').parent().children('.qIdx');

			qIdx.css('z-index',1);
			qInfo.css('z-index',1);
			$this.css('z-index',1000);

			// 부모요소중 .qIdx 클래스가 있는 경우는 z-index를 올려주도록 설정 하였다.
			$this.parents('.qIdx').each(function()
			{
				$(this).css('z-index',1);
			});
			$(this).parents('.qIdx').each(function()
			{
				$(this).css('z-index',1000);
			});
			qInfo.removeClass('on');
			$this.addClass('on');
		});
		$('.qInfo a.btnClose').live('click',function(e){
			var $this=$(this).closest('.qInfo');
			e.preventDefault();
			$this.css('z-index',1);
			$this.parents('.qIdx').each(function()
			{
				$(this).css('z-index',1);
			});
			$this.removeClass('on');
		});
		$('.qInfo').live('keyup' , function( evt )
		{
			var $this=$(this);
			if( evt.keyCode == TABKEY_CODE )
			{
				var inter;
				$this.bind('focusin', function()
				{
					if( $this.hasClass('on') ){
						$this.addClass('on');
					}
					if(inter){
						clearInterval(inter);
					}
				});
				$this.bind('focusout', function()
				{
					inter = setInterval( function()
					{
						clearInterval(inter);
						$this.removeClass('on');
						$this.unbind('focusin');
						$this.unbind('focusout');
					},1);
				});
			}
		});

		//poc/guide/etc.html
		var arc = doc.find('ul.arcBox');
		//doc.find('li>dl>dt').each(function(index)
		arc.children('li').each(function(index)
		{

			$(this).children( 'a' ).bind('click' ,  function( e )
			{
				//
				//e.preventDefault();
				var thisLi=$(this).parent();
				if(thisLi.hasClass('on')){
					thisLi.removeClass('on').find('> a').attr('title', '열기'); // 2018.11.01 웹접근성 수정
				}else{
					thisLi.closest('ul.arcBox').find("li.on").removeClass('on').find('> a').attr('title', '열기'); // 2018.11.01 웹접근성 수정
					thisLi.addClass('on').find('> a').attr('title', '닫기'); // 2018.11.01 웹접근성 수정
				}
				//#개선 UI
				var _href=$(this).attr('href');
				if(_href=="#"){
					e.preventDefault();
				}
			});
		});

		// myt/MY4.1.3.2T.2.html /myt/MY1.5.1.1T.html
		///////////////////////////////////////////////////////////////////////////
		$('ul.arcBox2>li a.more').live('click' ,  function( e )
		{
			// 2019.03.26 웹접근성 수정 START
			var thisLi = $(this).closest('li'),
				thisUl = $(this).closest('ul'),
				isType1 = thisUl.hasClass('type1'),
				hiddenText = thisLi.hasClass('on') ? '상세보기' : '상세닫기';

			/*if(thisLi.hasClass('on')){
				thisLi.removeClass('on');
			}else{
				thisLi.siblings('li').removeClass('on');
				thisLi.addClass('on');
			}*/
			if (isType1) {
				thisLi.toggleClass('on', !thisLi.hasClass('on')).find('a.more').attr('title', hiddenText);
			} else {
				if (thisLi.hasClass('on')) { //#공통 WA
					if (thisLi.find("a.more").children().length >= 1) {
						thisLi.removeClass('on').find('.clearfix > a.more').text('상세보기');
					} else {
						thisLi.removeClass('on').find(".clearfix > a.more").text('상세보기');
					}
				} else {
					if (thisLi.find("a.more").children().length >= 1) {
						thisLi.siblings('li').removeClass('on');
						thisLi.addClass('on').find('.clearfix > a.more').text('상세닫기');
					} else {
						thisLi.siblings('li').removeClass('on').find(".clearfix > a.more").text("상세보기"); // 190904 웹접근성 수정
						thisLi.addClass('on').find(".clearfix > a.more").text("상세닫기");
					}
				}
			}
			// 2019.03.26 웹접근성 수정 END
		});

		//SelectBox // [Ex.] www/poc/myt/MY2.2.5.3T.3.html
		var fn_liOnEvt = function()
		{
			var spn=$(this).find('span.radio');//
			var li=spn.parent('li');
			var rdo=spn.find('input[type="radio"]');

			spn.each(function()
			{
				if($(this).find('input[type="radio"]').attr('checked'))
				{
					$(this).parent().addClass('on');
				}
			});

			rdo.bind('liOnEvt',function()
			{
				var target=$(this);
				li.removeClass('on');
				target.closest('li').addClass('on');
				//충전금액 스크립트 MY2.2.4.2T.2T.1.html, MY2.2.4.1T.2T.1.html
				var chTxt=$('span.chTxt');
				var em=target.next('label').find('em');
				if(chTxt.length>0&&em.length>0){
					chTxt.text(em.text());
				}
				///////////////////////////////////////////
			});

			var reco = doc.find('div.recommend');
			if( !reco.length ){
				return;
			}

			reco.children('button.btn').bind('click',function()
			{
				reco.toggleClass('on');
			});
		};


		var radioSelect=$('.radioSelect');
		radioSelect.each(fn_liOnEvt);

		var radioSelect2=$('input[type="radio"]').parent(".bgOn").closest('ul');
		radioSelect2.each(fn_liOnEvt);
		///////////////////////////////////////////////////////////////////////////

		//사이드 배너 닫기 //www/poc/util/common/UT8.3.1L.html#
		$('.flt_bnr').each(function(){
			var target=$(this);
			target.children('.btnClose').bind('click',function(){
				target.hide();
			});
		});
		///////////////////////////////////////////////////////////////////////////

		//on클래스 토글 기능 //www/poc/purchase/PJ2.2.1.2P.html#
		$(".selfTglOn").bind('click',function(e){
			e.preventDefault();
			$(this).toggleClass('on');
		});
		///////////////////////////////////////////////////////////////////////////

		//공유하기 버튼 //poc/guide/etc.html
		var snsDiv=$('.sns');
		snsDiv.each(function(){
			var target=$(this);
			target.children('.btn_sns').bind('click',function(e){
				e.preventDefault();
				target.addClass('on');
			});

			target.find('.btn_close').bind('click',function(e){
				e.preventDefault();
				target.removeClass('on');
				target.children('.btn_sns').focus(); // 2018.10.24 [#7106][T apps] T map 택시 상품원장 - 접근성 수정
			});
		});
		///////////////////////////////////////////

		//자세히보기 //poc/membership/MS.html //poc/product/TS.html
		/*
		$('div.sliding').each(function(){

		});
		*/
		///////////////////////////////////////////

		//본문바로기기 fixed처리 추가
		$('.accessbility>a').live('focus',function(){
			var tar=$(this).parent();
			tar.css({'position':'fixed', 'z-index':'5001'});
			tar.before('<div id="accDummy"></div>');
			$('#accDummy').css('height',$(this).outerHeight(true)+'px');
		});

		$('.accessbility>a').live('focusout',function(){
			$(this).parent().css('position','');
			$('#accDummy').remove();
		});
		///////////////////////////////////////////
	}
	//자세히보기좌우펼침배너 //poc/membership/MS.html //poc/product/TS.html
	function setSlidingContent(){
		$('div.sliding').each(function(){
			var targetUl=$(this).children('ul');
			var targetLi=targetUl.children('li');

			var li_h=targetLi.eq(0).outerHeight(true);
			var li_w=targetLi.eq(0).outerWidth(true);
			var ul_w=targetUl.outerWidth();
			var detailBtn=targetLi.find('a.detail_btn');
			var closeBtn=targetLi.find('a.close');

			var isAnimating=false;
			var duration_A=200;
			var duration_B=400;

			targetUl.css({
				'position':'relative',
				'height':li_h+'px',
				'width':ul_w+'px'
			});

			targetLi.css({
				'position':'absolute',
				'top':'0px'
			});
			var leftVal=0;
			targetLi.each(function(i){
				if((i-1)>-1) leftVal+=targetLi.eq(i-1).outerWidth(true);
				$(this).css({
					'left':leftVal+'px'
				});
			});
			var leftTmp='';
			var animateLi=function(idx,openDetail){
				if(isAnimating) return false;
				if(openDetail){
					isAnimating=true;
					leftTmp=targetLi.eq(idx).css('left');
					targetLi.eq(idx).animate({
						"left": "0px"
					}, duration_A*idx, function (){
						var hiddenDiv=targetLi.eq(idx).children('div:last');
						targetLi.eq(idx).addClass('on');
						targetLi.eq(idx).css('z-index',10);
						var hiddenInner=hiddenDiv.children('div');
						var hiddenDivWidth=hiddenInner.outerWidth(true);
						hiddenDiv.css({
							'z-index':'10',
							'overflow':'hidden',
							'width':'0px'
						});
						hiddenInner.css({
							'top':'0px',
							'left':'0px',
							'width':hiddenDivWidth+'px'
						});

						targetLi.eq(idx).siblings().css('z-index','0');

						hiddenDiv.animate({
							'width':hiddenDivWidth+'px'
						},duration_B,function(){
							isAnimating=false;
						});
					});
				}else{
					isAnimating=true;

					var hiddenDiv=targetLi.eq(idx).children('div:last');
					var hiddenDivWidth=hiddenDiv.width();

					hiddenDiv.animate({
						'width':'0px'
					},duration_B,function(){
						targetLi.eq(idx).removeClass('on');
						targetLi.eq(idx).css('z-index',0);

						hiddenDiv.css('width',hiddenDivWidth+'px');

						targetLi.eq(idx).animate({
							"left": leftTmp
						},duration_A*idx,function (){
							targetLi.css('z-index','');
							isAnimating=false;
						});
					});
				}

				return true;
			};
			detailBtn.unbind().bind('click',function(e){

				e.preventDefault();
				var targetBtn=$(this);
				var target=targetBtn.closest('li');

				if(target.hasClass('on')){//닫기
					if(animateLi(target.index(),false))	targetBtn.text('자세히 보기');
				}else{//자세히 보기
					if(animateLi(target.index(),true)) targetBtn.text('닫기');
				}
			});

			closeBtn.unbind().bind('click',function(e){
				e.preventDefault();
				var target=$(this).closest('li');
				animateLi(target.index(),false);
				detailBtn.text('자세히 보기');
			});
		});
	}
	//poc/membership/
	function setMembership(){
		//제휴사 혜택 아이콘 hover효과 //poc/membership/MS.html
		$('ul.hoverLi').each(function(){
			var ulList=$(this);

			ulList.parent().children('a.btn_all').bind('click', function( evt )
			{
				evt.preventDefault();
				li.css('display','block');
			});

			var li=$(this).children('li');
			var moreBtn=ulList.next('a.btnMore');

			li.each(function(i){
				if(i>9) $(this).hide();
			});

			/*
			li.bind("mouseover",function(e){
				$(this).children('.hoverCont').show();
			});

			li.bind("mouseout",function(e){
				$(this).children('.hoverCont').hide();
			});

			*/
			li.hover( function(e)
			{
				var t = $(e.target).closest('li');
				t.addClass('on');
			},function(e)
			{
				li.removeClass('on');
			});
			li.bind('keyup' , function( e )
			{
				var tar = $(e.target);
				var t;
				if( e.keyCode == TABKEY_CODE )
				{
					t = tar.closest('li');
					t.addClass('on');
				}

				if( tar.hasClass('btn_more') )
				{
					t.removeClass('on');
					t.next().focus();
					t.next().addClass('on');
				}
			});
			moreBtn.bind('click',function(e){
				e.preventDefault();
				li.show();
			});
		});
	}

	function setDirect()
	{
		doc.find('div.alphaArea>div.alphaMn').each(function()
		{
			var ma = $(this);
			var list = ma.find('div.menuList>ul>li');
			var grop = list.parent();
			var alphaArea = doc.find('div.alphaArea');
			var sn = 0;
			var total = list.length;
			var speed = 250;

			var getPos = function( idx )
			{
				return -(300 * idx)-20;
			};
			var slide = function( ch )
			{
				if( ch){
					sn++;
				}else{
					sn--;
				}
				if( sn < 0){
					sn = 0;
				}
				if( sn+1 > total){
					sn = total-1;
				}

				var pos = getPos( sn );
				grop.animate({ 'margin-left':pos},speed);
			};

			ma.find('button').bind('click', function( evt )
			{
				if( $(evt.target).hasClass('btnPrev') )
				{
					slide( false );
				}else{
					slide( true );
				}
			});

			var move = function( target , idx )
			{
				sn = idx;
				var sp = speed;
				var n = Number(grop.css('margin-left').replace('px',''));
				var tn = getPos(idx);
				if( n == tn ){
					sp = 0;
				}

				grop.animate({ 'margin-left':-(300 * idx)-20 } , sp , function()
				{
					alphaArea.addClass('on');
					alphaArea.css('height','220px');
					target.addClass('on');

					var p =target.find('div.hideExplan');
					alphaArea.animate({'height':'450px'},300);
					p.css('width','0px');
					p.animate({'width':'900px'},300);
					target.animate({'width':'1180px'},100);
				});

			};

			list.find('a').bind('click',function( evt )
			{
				var li = $(evt.target).closest('li');
				var idx = li.index();
				move( li , idx );
			});

			list.find('a.close').unbind().bind('click',function( evt )
			{
				var li = $(evt.target).closest('li');
				alphaArea.animate({'height':'220px'},200,function()
				{

					alphaArea.removeClass('on');
					list.removeClass('on');
				});
				li.animate({'width':'280px'},300);
			});
			/*
			list.each(function( idx )
			{
			});
			*/
		});

		var list = doc.find('div.evaluation>div.con>ul>li');
		var off = function()
		{
			list.find('a>span').each(function( idx )
			{
				var ta=$(this).find('img[src]');
				var src =ta.attr('src');
				if(src){
					ta.prop('src',src.replace('_on','_off'));
				}
			});
		};

		list.each(function( idx )
		{
			var ta = $(this);
			//var img = ta
			ta.children('a').bind('click' , function( evt )
			{
				evt.preventDefault();
				list.removeClass('on');
				//list.addClass('on');
				$(evt.target).closest('li').addClass('on');
				off();
				var a = $(evt.target).closest('a');

				var src=a.find('img[src]').attr('src');

				if(src){
					a.find('img[src]').prop('src',src.replace('off','on'));
				}

			});
		});

		var tablist = doc.find('div.kindsList>ul.tabMn>li');
		tablist.each(function( idx )
		{
			var ta = $(this);
			ta.bind('click' , function( evt )
			{
				tablist.removeClass('on');
				$(evt.target).closest('li').addClass('on');
			});
		});

		doc.find('div.newphoneList>div.con>ul>li>a').each(function()
		{
			$(this).bind('click' , function( evt )
			{
				$(evt.target).toggleClass('on');
			});
		});
	}

	// 배너 게시 시간 문자열 현재시간 비교
	function timeCheck(strTime){
		if(!strTime) return true; // 값이 없는 경우 시간 상관없이 게시

		var y=Number(strTime.substr(0,4));
		var m=Number(strTime.substr(4,2));
		var d=Number(strTime.substr(6,2));
		var h=Number(strTime.substr(8,2));
		var min=Number(strTime.substr(10,2));
		var sec=Number(strTime.substr(12,2));

		var t=new Date(y?y:0, m?(m-1):0, d?d:0, h?h:0, min?min:0, sec?sec:0);
		var now=new Date();

		if(t.getTime()<=now.getTime()) return true;
		else return false;
	}

	// 배너 삽입
	function setBanner()
	{
		//promotion banner (ul>li) // H[5],I[7]
		var promoId=["_banner_1001_F","_banner_1004_F","_banner_1005_F", "_banner_1007_F"];

		var setPromo=function(targetId){
			var val=window[targetId];
			if(val&&val.length>0){
				var wrap=$('ul#'+targetId);
				var sldNaviUl=wrap.closest('.slideBox').find('.slideNavi>ul');
				if(wrap.length>0){

					wrap.empty();
					sldNaviUl.empty();

					for(var j=0;j<val.length;j++){

						var arrTmp=val[j].split('||');
						var tmpHtml="";

						// 배너 게시 시간 확인
						if(arrTmp[1]=="I"&&!timeCheck(arrTmp[7])) continue;
						else if(!timeCheck(arrTmp[5])) continue;

						sldNaviUl.append('<li><a href="#ProMotion'+(j+1)+'">프로모션 '+(j+1)+'</a></li>');

						if(arrTmp[1]=="I"){// img

							tmpHtml+='<li id="ProMotion'+(j+1)+'">';

							tmpHtml+='<div class="promotionCon"';
							if(arrTmp[4]) {
								tmpHtml+=' style="background-repeat:repeat-x; background:url('+arrTmp[4]+');">';
							}else {
								tmpHtml+='>';
							}


							tmpHtml+='<span class="slideImg">';
							if(arrTmp[3]) {
								tmpHtml+='<img src="'+arrTmp[3]+'" alt="">';
							}
							tmpHtml+='</span>';
							tmpHtml+='<div class="inner">';
							tmpHtml+='<a';// a
							if(arrTmp[12]) tmpHtml+=' href="'+arrTmp[12]+'"'; // href
							else tmpHtml+=' href="#"';
							if(arrTmp[10]) tmpHtml+=' target="'+arrTmp[10]+'"'; // target

							if(arrTmp[9]) tmpHtml+=' title="'+arrTmp[9]+'"'; // title
							tmpHtml+='>';// a

							tmpHtml+='<img class="banner_img_cls"';// img
							if(arrTmp[2]) tmpHtml+=' src="'+arrTmp[2]+'"'; // src

							if(arrTmp[8]) tmpHtml+=' alt="'+arrTmp[8]+'"'; // alt
							tmpHtml+='>';// img
							tmpHtml+='</a>';
							tmpHtml+='</div>';

							tmpHtml+='</div>';
							tmpHtml+="</li>";

							wrap.append(tmpHtml);
						}else if(arrTmp[1]=="H"&&arrTmp[2]){// html
							$.ajax({
								type: "get",
								dataType: "html",
								url: arrTmp[2], //html url
								data: { },
								async: false, //동기 처리
								beforeSend : function( xhr ){
									xhr.overrideMimeType('text/html; charset=UTF-8');
									// xhr.overrideMimeType('text/html; charset=EUC-KR');
								},
								success: function( result )
								{
									if(result){
										wrap.append('<li><div class="promotionCon"></div></li>');
										var li=wrap.children('li:last');
										var prCon=li.children('div.promotionCon');

										if(arrTmp[4]) {
											li.css('background','url('+arrTmp[4]+')');
											li.css('background-repeat','repeat-x');
										}

										if(arrTmp[3]) {
											prCon.css('background','url('+arrTmp[3]+')');
										}

										prCon.html(result);
										li.attr('id','ProMotion'+(j+1));
									}
								}
							});
						}
					}
					//@시작/정지이동
					//test
					//[#4750] [공통] 상품서비스 서브메인 및 T apps 인덱스 페이지 소스오류 수정 요청 건 (오류수정);
					$('ul#'+targetId).closest('.slideBox').find('.slideNavi').prepend('<button style="margin:-21px 5px 0 0;" type="button" class="btnStop">정지</button><button type="button" class="btnPlay" style="display:none; margin:-21px 5px 0 0; ">재생</button>');
				}
			}
		};
		for(var i=0; i<promoId.length; i++){
			setPromo(promoId[i]);
		}

		//single promotion banner [5]
		var sPromoId=["_banner_1002_F","_banner_1003_F", "_banner_1008_F", "_banner_1009_F","_banner_1006_F","_banner_1011_F","_banner_1012_F","_banner_1013_F","_banner_1014_F"];

		var setSPromo=function(targetId){
			var val=window[targetId];
			if(val==undefined)return;

			if(val&&val.length>0){
				var wrap=$('#'+targetId);
				if(wrap.length>0){
					wrap.empty();

					var arrTmp=val[0].split('||');
					var tmpHtml="";

					// 배너 게시 시간 확인
					if(arrTmp[1]=="I"&&!timeCheck(arrTmp[7])) return;
					else if(!timeCheck(arrTmp[5])) return;

					if(arrTmp[1]=="I"){// img

						tmpHtml='<a';// a
						if(arrTmp[12]) tmpHtml+=' href="'+arrTmp[12]+'"'; // href
						else tmpHtml+=' href="#"';
						if(arrTmp[10]) tmpHtml+=' target="'+arrTmp[10]+'"'; // target

						if(arrTmp[9]) tmpHtml+=' title="'+arrTmp[9]+'"'; // title
						tmpHtml+='>';// a

						tmpHtml+='<img class="banner_img_cls"';// img
						if(arrTmp[2]) tmpHtml+=' src="'+arrTmp[2]+'"'; // src

						if(arrTmp[8]) tmpHtml+=' alt="'+arrTmp[8]+'"'; // alt
						tmpHtml+='>';// img
						tmpHtml+='</a>';

						wrap.append(tmpHtml);

					}else if(arrTmp[1]=="H"&&arrTmp[2]){//html

						$.ajax({
							type: "get",
							dataType: "html",
							url: arrTmp[2], //html url
							data: { },
							beforeSend : function( xhr ){
								xhr.overrideMimeType('text/html; charset=UTF-8');
								// xhr.overrideMimeType('text/html; charset=EUC-KR');
							},
							success: function( result )
							{
								if(result){

									wrap.html(result);
									$('.video_script').attr('tabindex','0');//비디오 자막 tabindex삽입
									customBinding();
								}
							}
						});
					}
				}
			}
		};
		for(var i=0; i<sPromoId.length; i++){
			setSPromo(sPromoId[i]);
		}

		//spred banner
		var spredId=["_spred_1001_F","_spred_1002_F"];
		for(var i=0; i<spredId.length; i++){
			var val=window[spredId[i]];
			var wrap=$('#'+spredId[i]);
			if(val&&val.length>0){
				if(getCookie(spredId[i])=='off') {
					wrap.empty();
					continue;
				}

				if(wrap.length>0){
					var arrTmp=val[0].split('||');
					var tmpHtml="";

					// 배너 게시 시간 확인
					if(!timeCheck(arrTmp[5])) continue;

					if(arrTmp[1]=="I"){// img
						tmpHtml='<a';// a
						if(arrTmp[10]) tmpHtml+=' href="'+arrTmp[10]+'"'; // href
						else tmpHtml+=' href="#"';
						if(arrTmp[8]) tmpHtml+=' target="'+arrTmp[8]+'"'; // target

						if(arrTmp[7]) tmpHtml+=' title="'+arrTmp[7]+'"'; // title
						tmpHtml+='>';// a

						tmpHtml+='<img class="banner_img_cls"';// img
						if(arrTmp[2]) tmpHtml+=' src="'+arrTmp[2]+'"'; // src

						if(arrTmp[6]) tmpHtml+=' alt="'+arrTmp[6]+'"'; // alt
						tmpHtml+='>';// img

						tmpHtml+='</a>';

						wrap.html(tmpHtml);
					}else if(arrTmp[1]=="H"&&arrTmp[2]){//html
						$.ajax({
							type: "get",
							dataType: "html",
							url: arrTmp[2], //html url
							data: { },
							async: false, //동기 처리
							beforeSend : function( xhr ){
								xhr.overrideMimeType('text/html; charset=UTF-8');
								// xhr.overrideMimeType('text/html; charset=EUC-KR');
							},
							success: function( result )
							{
								if(result){
									wrap.html(result);
								}
							}
						});
					}

				}
			}else if(wrap.length){
				wrap.hide();
				wrap.next('.notice_set').hide();
			}
		}

		//alpha banner
		var alphaId=["_alpha_1001_F","_alpha_1002_F"];
		for(var i=0; i<alphaId.length; i++){
			var val=window[alphaId[i]];
			if(val&&val.length>0){
				var wrap=$('#'+alphaId[i]);
				if(wrap.length>0){
					wrap.empty();

					if(window.loadMain && alphaId[i]=="_alpha_1001_F") window.loadMain();

					for(var j=0;j<val.length;j++){
						var arrTmp=val[j].split('||');
						var strHtml='';
						strHtml+='<li><a href="#"><strong class="aTit"><span>';
						if(arrTmp[1]) strHtml+=arrTmp[1];
						strHtml+='</span><span class="pointer"></span></strong><span class="aTxt">';
						if(arrTmp[2]) strHtml+=arrTmp[2];
						strHtml+='</span></a><div class="sCon"><button type="button" class="btnClose">닫기</button></div></li>';
						wrap.append(strHtml);//기본태그 삽입

						if(arrTmp[3]){
							$.ajax({
								type: "get",
								dataType: "html",
								url: arrTmp[3], //html url
								async: false, //동기 처리
								data: { },
								beforeSend : function( xhr ){
									xhr.overrideMimeType('text/html; charset=UTF-8');
									// xhr.overrideMimeType('text/html; charset=EUC-KR');
								},
								success: function( result )
								{
									if(result){//상세내역 삽입
										wrap.children('li:last').find('div.sCon').prepend(result);
									}
								}
							});
						}
					}
				}
			}
		}
	}

	//IE 버전 확인
	function ieVerCheck() {
		var _ver = -1;
		var ua, re;
		if (navigator.appName == 'Microsoft Internet Explorer') {
			ua = navigator.userAgent;
			re = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
			if (re.exec(ua) != null)
				_ver = parseFloat(RegExp.$1);
		} else if (navigator.appName == 'Netscape') {
			ua = navigator.userAgent;
			re = new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})");
			if (re.exec(ua) != null) {
				_ver = parseFloat(RegExp.$1);
			}
		}
		return _ver;
	}

	function setWindowLoad(){
		// 제휴사안내/고객센터 박스 높이 조절 //poc/util/common/UT1.3.1.html#
		$("ul.partnerList, ul.wayTip").each(function(){
			var li=$(this).children('li');
			var h=0;
			li.each(function(e){
				var tmpH=$(this).height();
				if(tmpH>h) h=tmpH;
			});

			if(h!=0) li.css("height",h+"px");
		});

		//메인 페이지 ie6/7 체크
		var chkUnderIE7=$("#chkUnderIE7");
		if(chkUnderIE7.length>0){
			var IEVer=ieVerCheck();
			if(IEVer==-1) return;
			if(IEVer==6){
				location.href="http://www.tworld.co.kr/poc/html/util/common/UT13.3.html";
			}
			if(IEVer==7&&getCookie('popup_block_ck')!="n"){
				chkUnderIE7.trigger("click");
				//	var thisLP1=chkUnderIE7.next('.layerPop1');
				var thisLP1=$('#ie7_pop').show();
				thisLP1.find('.popClose, .subClose').bind('click',function(){
					if(thisLP1.find('.todayClose input:checkbox').attr('checked')){
						setCookie('popup_block_ck','n');
					}
				});
			}
		}

		$('.video_script').attr('tabindex','0');//비디오 자막 tabindex삽입
	}

	//팝업윈도우창 사이즈 조절 스크립트
	function resizePopupWindow() {
		var agent = navigator.userAgent.toLowerCase();

		if (agent.indexOf("safari") != -1) {
			var divPopup=$('body>div.popup.popLine');

			if(divPopup.length<1){
				return;
			}

			var strWidth;
			var strHeight;

			//innerWidth / innerHeight / outerWidth / outerHeight 지원 브라우저
			if (window.innerWidth && window.innerHeight && window.outerWidth && window.outerHeight) {
				strWidth = divPopup.outerWidth() + (window.outerWidth - window.innerWidth);
				strHeight = divPopup.outerHeight() + (window.outerHeight - window.innerHeight);
			} else {
				var strDocumentWidth = $(document).outerWidth();
				var strDocumentHeight = $(document).outerHeight();

				window.resizeTo(strDocumentWidth, strDocumentHeight);

				var strMenuWidth = strDocumentWidth - $(window).width();
				var strMenuHeight = strDocumentHeight - $(window).height();

				strWidth = divPopup.outerWidth() + strMenuWidth;
				strHeight = divPopup.outerHeight() + strMenuHeight;
			}

			//resize
			window.resizeTo(strWidth, strHeight);
		}
	}

	// 키보드 숫자 키로 selectbox 검색 선택
	function sltByNumKey(){
		$('.selectBox.sltByNumKey>div.select:not(.selDisabled)>a').live('keyup',function(e){
			//숫자열 0 ~ 9 : 48 ~ 57 //키패드 0 ~ 9 : 96 ~ 105
			if((!e.shiftKey && e.keyCode>=48&&e.keyCode<=57)||(e.keyCode>=96&&e.keyCode<=105)){
				var target=$(this);
				var num=e.keyCode;
				if(num>58) num-=96;
				else num-=48;

				var val=target.data('searchVal');

				if(!val) val="";

				val+=num;
				target.data('searchVal',val);

				var opt=target.parent().siblings('select').children('option');

				for(var i=0;i<opt.length;i++){
					if(opt.eq(i).is(':disabled')) continue;

					var regG=new RegExp("^"+val,"g");

					if(regG.test(opt.eq(i).text())){
						target.parent().getInstance().setIndexSB(i);
						break;
					}
				}
			}
		});

		$('.selectBox.sltByNumKey>div.select:not(.selDisabled)>a').live('blur',function(e){
			$(this).data('searchVal','');
		});
	}
	//##yeshtml5
	//바인딩이 안되거나, load시점에 강제바인딩추가
	function customBinding(){
		setSlidingContent();
	}
	//##웹접근성
	function setWebAccessibilityFunc(){ //#이벤트 WA
		$('body > div.accessbility a').bind('keyDown click',function(event){
			var _cont = $("#content");

			$('html , body').stop().animate({scrollTop : 0});
			//commonJs.findFocusElements( _cont )[0].focus();
			_cont.attr('tabIndex', -1).focus();  // 2018.01.15 웹접근성 본문 바로가기 수정

			return false;
		});

		//#WA 접근성 수정
		//#탭 포커스이동 tabindex 수정
		$('ul[class^="tabType"] > li > a').bind('keyDown click', function(event){
			var _href = $(this).attr('href');
			var _tabCont = $('div'+_href);

			_tabCont.attr('tabindex','0');
		});

		//# 이용약관 스크롤링(_모바일에서 iframe으로 불러오는 구조라 이곳에 스크립트를 넣음.)
		$("ul.termsInfo>li>a").bind("click",function(e){
			var _href =$(this).attr('href');

			if(_href.substr(0,1) === '#') {
				var _str = _href.split("#")[1];
				$('html, body').animate({scrollTop: $("#"+_str).offset().top}, 300);
			}
		});
	}

	/* [20190213 TOS추가] Start */
	// [20190213 TOS추가] 슬라이딩 배너에서 Xtractor에 스크립트 송신
	function AjaxGet(xtractorurl, cmpgnNum,execSchdNum, cellNum,msgSerNum,action){
		var reqCookie = document.cookie;			// 2019.02.26 - Xtractor 김형래 수석 수정 요청
		var hostname = window.location.hostname;	// 2019.02.26 - Xtractor 김형래 수석 수정 요청

		$.ajax({
			url: xtractorurl,
			type:"GET",
			data:{"CMPGN_NUM":cmpgnNum, "EXEC_SCHD_NUM":execSchdNum, "CELL_NUM":cellNum, "MSG_SER_NUM":msgSerNum, "ACTION":action, "domain":hostname, "req_cookie":encodeURIComponent(reqCookie) },	// 2019.02.26 - Xtractor 김형래 수석 수정 요청
			dataType:"jsonp",
			sucess:function(data){ },
			error:function(jqXHR, textStatus, errorThrown){ }
		});
	}

	// [20190213 TOS추가] 슬라이딩 배너에서 Xtractor에 스크립트 송신
	function xtractorCall(slideUl, curIdx, chkArray){
		var $li = slideUl.find($('#promotion'+(Number(curIdx)+1)) );
		var $cmpgnNum = $li.find('input[name="CMPGN_NUM"]');

		if($cmpgnNum.length > 0){    // CMPGN_NUM이 없을 경우(=TOS 캠페인이 아닐경우) 아래 내용 SKIP함
			var xtractor_url  = "https://xtr.tos.sktelecom.com/xtractor/userScript/TOSCampaignRequest?";
			var cmpgnNum      = $li.find('input[name="CMPGN_NUM"]').val();
			var execSchdNum   = $li.find('input[name="EXEC_SCHD_NUM"]').val();
			var cellNum       = $li.find('input[name="CELL_NUM"]').val();
			var msgSerNum     = $li.find('input[name="MSG_SER_NUM"]').val();
			var parameter = "CMPGN_NUM="+cmpgnNum+"&EXEC_SCHD_NUM="+execSchdNum+"&CELL_NUM="+cellNum+"&MSG_SER_NUM ="+msgSerNum+"&ACTION=Exp";
			var check = true;

			for(var i=0;i<chkArray.length;i++){   // 슬라이딩 배너가 2회차 이상 롤링시에는 Xtractor 스크립트를 호출하지 않도록 처리
				if(chkArray[i] == cmpgnNum){
					check = false;
					break;
				} else {
					check = true;
				}
			}

			if(check){
				chkArray[chkArray.length] = cmpgnNum;
				AjaxGet(xtractor_url, cmpgnNum, execSchdNum, cellNum, msgSerNum, "Exp");	// 2019.02.26 - Xtractor 김형래 수석 수정 요청
			}
		}
	}
	/* [20190213 TOS추가] END */

	$(window).ready(function()
	{

		content = doc.find('div#container>div#content');

		if(mobileCheck)
		{
			if (matchMedia("screen and (max-width:1280px)").matches) {
				$('#wrap').css({'width':'1280px','overflow':'hidden' });
			}
		}

		//libs
		if($.setIdAndHeadersToTables) $.setIdAndHeadersToTables();//접근성 관련 talbe ID/Header 세팅.
		//
		setBanner();

		setCheckBox();
		setRadioBox();
		setCalendar();

		/*
		// commonJs.setCalendar('div.calendar');
		commonJs.setCalendar('div.calendar', {
				start 	:{ year:2016, month:1, day:1 },
				current :{ year:2016, month:4, day:20 },
				end 	:{ year:2016, month:12, day:31 }
			}
		);
		*/

		//setPopup();
		//setArcBox();
		setBrowserTabTglOn();
		setTabJs();
		setTglClsOpen();
		setUlLi_TglOn();
		sltByNumKey();

		setCommon();
		setSlidingContent();
		setMyt();//<<- qussetSMSBox();
		setCenter();
		setUtil();
		//setProduct();
		setGuide();
		setPurchase();
		setMembership();
		setMain();

		setDirect();
		setUpDownSlide();
		//2017.4.11
		setWebAccessibilityFunc();
	});

	$(window).load(function()
	{
		//이미지 로딩 후 동작
		setUlSlide();
		setTlive();
		setPopup(); //selectBox를 첫번째 포커스 요소로 인식하지못해 load로 이동.
		window.$(window).trigger('after_setPopup');
		setProduct();
		setWindowLoad();
		// setMain();
		resizePopupWindow();
		//setCommon()  http://www.tworld.co.kr/normal.do?serviceId=S_PROD6040&viewId=V_CENT6040  위치이동 ready -> load 로 이동
		//setCommon();
	});

})(cmnJquery, window);
